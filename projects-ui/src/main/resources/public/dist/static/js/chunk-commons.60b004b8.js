(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-commons"],{"03d65":function(e,t,n){},"061b":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[n("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])},i=[],r={props:{src:{type:String,required:!0}},data:function(){return{height:document.documentElement.clientHeight-94.5+"px;",loading:!0,url:this.src}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),300);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-94.5+"px;"}}},s=r,o=n("2877"),l=Object(o["a"])(s,a,i,!1,null,null,null);t["a"]=l.exports},"0f88":function(e,t,n){"use strict";n.r(t);n("14d9");t["default"]={"list-type":function(e,t,n){var a=[],i=t.__config__;return"picture-card"===t["list-type"]?a.push(e("i",{class:"el-icon-plus"})):a.push(e("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-upload"}},[i.buttonText])),i.showTip&&a.push(e("div",{slot:"tip",class:"el-upload__tip"},["只能上传不超过 ",i.fileSize,i.sizeUnit," 的",t.accept,"文件"])),a}}},"167d":function(e,t,n){"use strict";n.r(t),t["default"]={prepend:function(e,t,n){return e("template",{slot:"prepend"},[t.__slot__[n]])},append:function(e,t,n){return e("template",{slot:"append"},[t.__slot__[n]])}}},"1d6d":function(e,t,n){},"1f643":function(e,t,n){},2730:function(e){e.exports=JSON.parse('{"name":"Flowable","uri":"http://flowable.org/bpmn","prefix":"flowable","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"InOutBinding","superClass":["Element"],"isAbstract":true,"properties":[{"name":"source","isAttr":true,"type":"String"},{"name":"sourceExpression","isAttr":true,"type":"String"},{"name":"target","isAttr":true,"type":"String"},{"name":"businessKey","isAttr":true,"type":"String"},{"name":"local","isAttr":true,"type":"Boolean","default":false},{"name":"variables","isAttr":true,"type":"String"}]},{"name":"In","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"Out","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"AsyncCapable","isAbstract":true,"extends":["bpmn:Activity","bpmn:Gateway","bpmn:Event"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false},{"name":"asyncBefore","isAttr":true,"type":"Boolean","default":false},{"name":"asyncAfter","isAttr":true,"type":"Boolean","default":false},{"name":"exclusive","isAttr":true,"type":"Boolean","default":true}]},{"name":"flowable:in","superClass":["Element"],"properties":[{"name":"source","type":"string","isAttr":true},{"name":"target","type":"string","isAttr":true}]},{"name":"flowable:out","superClass":["Element"],"properties":[{"name":"source","type":"string","isAttr":true},{"name":"target","type":"string","isAttr":true}]},{"name":"BoundaryEvent","superClass":["CatchEvent"],"properties":[{"name":"cancelActivity","default":true,"isAttr":true,"type":"Boolean"},{"name":"attachedToRef","type":"Activity","isAttr":true,"isReference":true}]},{"name":"JobPriorized","isAbstract":true,"extends":["bpmn:Process","flowable:AsyncCapable"],"properties":[{"name":"jobPriority","isAttr":true,"type":"String"}]},{"name":"SignalEventDefinition","isAbstract":true,"extends":["bpmn:SignalEventDefinition"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false}]},{"name":"ErrorEventDefinition","isAbstract":true,"extends":["bpmn:ErrorEventDefinition"],"properties":[{"name":"errorCodeVariable","isAttr":true,"type":"String"},{"name":"errorMessageVariable","isAttr":true,"type":"String"}]},{"name":"Error","isAbstract":true,"extends":["bpmn:Error"],"properties":[{"name":"flowable:errorMessage","isAttr":true,"type":"String"}]},{"name":"PotentialStarter","superClass":["Element"],"properties":[{"name":"resourceAssignmentExpression","type":"bpmn:ResourceAssignmentExpression"}]},{"name":"UserTask","isAbstract":true,"extends":["bpmn:UserTask"],"properties":[{"name":"timerEventDefinition","type":"Expression"},{"name":"multiInstanceLoopCharacteristics","type":"MultiInstanceLoopCharacteristics"}]},{"name":"StartEvent","isAbstract":true,"extends":["bpmn:StartEvent"],"properties":[{"name":"timerEventDefinition","type":"Expression"}]},{"name":"FormSupported","isAbstract":true,"extends":["bpmn:StartEvent","bpmn:UserTask"],"properties":[{"name":"formHandlerClass","isAttr":true,"type":"String"},{"name":"formKey","isAttr":true,"type":"String"}]},{"name":"TemplateSupported","isAbstract":true,"extends":["bpmn:Process","bpmn:FlowElement"],"properties":[{"name":"modelerTemplate","isAttr":true,"type":"String"}]},{"name":"Initiator","isAbstract":true,"extends":["bpmn:StartEvent"],"properties":[{"name":"initiator","isAttr":true,"type":"String"}]},{"name":"ScriptTask","isAbstract":true,"extends":["bpmn:ScriptTask"],"properties":[{"name":"resultVariable","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"}]},{"name":"Process","isAbstract":true,"extends":["bpmn:Process"],"properties":[{"name":"candidateStarterGroups","isAttr":true,"type":"String"},{"name":"candidateStarterUsers","isAttr":true,"type":"String"},{"name":"versionTag","isAttr":true,"type":"String"},{"name":"historyTimeToLive","isAttr":true,"type":"String"},{"name":"isStartableInTasklist","isAttr":true,"type":"Boolean","default":true}]},{"name":"EscalationEventDefinition","isAbstract":true,"extends":["bpmn:EscalationEventDefinition"],"properties":[{"name":"escalationCodeVariable","isAttr":true,"type":"String"}]},{"name":"FormalExpression","isAbstract":true,"extends":["bpmn:FormalExpression"],"properties":[{"name":"resource","isAttr":true,"type":"String"}]},{"name":"Assignable","extends":["bpmn:UserTask"],"properties":[{"name":"candidateGroups","isAttr":true,"type":"String"},{"name":"dueDate","isAttr":true,"type":"String"},{"name":"followUpDate","isAttr":true,"type":"String"},{"name":"priority","isAttr":true,"type":"String"}]},{"name":"CallActivity","extends":["bpmn:CallActivity"],"properties":[{"name":"calledElementBinding","isAttr":true,"type":"String","default":"latest"},{"name":"calledElementVersion","isAttr":true,"type":"String"},{"name":"calledElementVersionTag","isAttr":true,"type":"String"},{"name":"calledElementTenantId","isAttr":true,"type":"String"},{"name":"caseRef","isAttr":true,"type":"String"},{"name":"caseBinding","isAttr":true,"type":"String","default":"latest"},{"name":"caseVersion","isAttr":true,"type":"String"},{"name":"caseTenantId","isAttr":true,"type":"String"},{"name":"variableMappingClass","isAttr":true,"type":"String"},{"name":"variableMappingDelegateExpression","isAttr":true,"type":"String"}]},{"name":"ServiceTaskLike","extends":["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask","bpmn:MessageEventDefinition"],"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"resultVariable","isAttr":true,"type":"String"}]},{"name":"ExclusiveGateway","isAbstract":true,"extends":["bpmn:ExclusiveGateway"],"properties":[{"name":"serviceClass","isAttr":true,"type":"String"}]},{"name":"DmnCapable","extends":["bpmn:BusinessRuleTask"],"properties":[{"name":"decisionRef","isAttr":true,"type":"String"},{"name":"decisionRefBinding","isAttr":true,"type":"String","default":"latest"},{"name":"decisionRefVersion","isAttr":true,"type":"String"},{"name":"mapDecisionResult","isAttr":true,"type":"String","default":"resultList"},{"name":"decisionRefTenantId","isAttr":true,"type":"String"}]},{"name":"ExternalCapable","extends":["flowable:ServiceTaskLike"],"properties":[{"name":"type","isAttr":true,"type":"String"},{"name":"topic","isAttr":true,"type":"String"}]},{"name":"TaskPriorized","extends":["bpmn:Process","flowable:ExternalCapable"],"properties":[{"name":"taskPriority","isAttr":true,"type":"String"}]},{"name":"Properties","superClass":["Element"],"meta":{"allowedIn":["*"]},"properties":[{"name":"values","type":"Property","isMany":true}]},{"name":"Property","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"value","type":"String","isAttr":true}]},{"name":"Connector","superClass":["Element"],"meta":{"allowedIn":["flowable:ServiceTaskLike"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"}]},{"name":"InputOutput","superClass":["Element"],"meta":{"allowedIn":["bpmn:FlowNode","flowable:Connector"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"},{"name":"inputParameters","isMany":true,"type":"InputParameter"},{"name":"outputParameters","isMany":true,"type":"OutputParameter"}]},{"name":"InputOutputParameter","properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"InputOutputParameterDefinition","isAbstract":true},{"name":"List","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"items","isMany":true,"type":"InputOutputParameterDefinition"}]},{"name":"Map","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"entries","isMany":true,"type":"Entry"}]},{"name":"Entry","properties":[{"name":"key","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"Value","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"id","isAttr":true,"type":"String"},{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Script","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"scriptFormat","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Field","superClass":["Element"],"meta":{"allowedIn":["flowable:ServiceTaskLike","flowable:ExecutionListener","flowable:TaskListener"]},"properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"expression","isAttr":true,"type":"expression"},{"name":"string","type":"string"},{"name":"stringValue","isAttr":true,"type":"String"}]},{"name":"string","superClass":["Element"],"meta":{"allowedIn":["flowable:Field"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"expression","superClass":["Element"],"meta":{"allowedIn":["flowable:Field"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"InputParameter","superClass":["InputOutputParameter"]},{"name":"OutputParameter","superClass":["InputOutputParameter"]},{"name":"Collectable","isAbstract":true,"extends":["bpmn:MultiInstanceLoopCharacteristics"],"superClass":["flowable:AsyncCapable"],"properties":[{"name":"collection","isAttr":true,"type":"String"},{"name":"elementVariable","isAttr":true,"type":"String"}]},{"name":"SequenceFlow","superClass":["FlowElement"],"properties":[{"name":"isImmediate","isAttr":true,"type":"Boolean"},{"name":"conditionExpression","type":"Expression"},{"name":"sourceRef","type":"FlowNode","isAttr":true,"isReference":true},{"name":"targetRef","type":"FlowNode","isAttr":true,"isReference":true}]},{"name":"MultiInstanceLoopCharacteristics","superClass":["LoopCharacteristics"],"properties":[{"name":"isSequential","default":false,"isAttr":true,"type":"Boolean"},{"name":"behavior","type":"MultiInstanceBehavior","default":"All","isAttr":true},{"name":"loopCardinality","type":"Expression","xml":{"serialize":"xsi:type"}},{"name":"loopDataInputRef","type":"ItemAwareElement","isReference":true},{"name":"loopDataOutputRef","type":"ItemAwareElement","isReference":true},{"name":"inputDataItem","type":"DataInput","xml":{"serialize":"property"}},{"name":"outputDataItem","type":"DataOutput","xml":{"serialize":"property"}},{"name":"complexBehaviorDefinition","type":"ComplexBehaviorDefinition","isMany":true},{"name":"completionCondition","type":"Expression","xml":{"serialize":"xsi:type"}},{"name":"oneBehaviorEventRef","type":"EventDefinition","isAttr":true,"isReference":true},{"name":"noneBehaviorEventRef","type":"EventDefinition","isAttr":true,"isReference":true}]},{"name":"FailedJobRetryTimeCycle","superClass":["Element"],"meta":{"allowedIn":["flowable:AsyncCapable","bpmn:MultiInstanceLoopCharacteristics"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"ExecutionListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:Task","bpmn:ServiceTask","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:ExclusiveGateway","bpmn:SequenceFlow","bpmn:ParallelGateway","bpmn:InclusiveGateway","bpmn:EventBasedGateway","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:SubProcess","bpmn:Process","bpmn:Signal"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"TaskListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"FormProperty","superClass":["Element"],"meta":{"allowedIn":["bpmn:StartEvent","bpmn:UserTask"]},"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"required","type":"String","isAttr":true},{"name":"readable","type":"String","isAttr":true},{"name":"writable","type":"String","isAttr":true},{"name":"variable","type":"String","isAttr":true},{"name":"expression","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"default","type":"String","isAttr":true},{"name":"values","type":"Value","isMany":true}]},{"name":"FormData","superClass":["Element"],"meta":{"allowedIn":["bpmn:StartEvent","bpmn:UserTask"]},"properties":[{"name":"fields","type":"FormField","isMany":true},{"name":"businessKey","type":"String","isAttr":true}]},{"name":"FormField","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"label","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"defaultValue","type":"String","isAttr":true},{"name":"properties","type":"Properties"},{"name":"validation","type":"Validation"},{"name":"values","type":"Value","isMany":true}]},{"name":"Validation","superClass":["Element"],"properties":[{"name":"constraints","type":"Constraint","isMany":true}]},{"name":"Constraint","superClass":["Element"],"properties":[{"name":"name","type":"String","isAttr":true},{"name":"config","type":"String","isAttr":true}]},{"name":"ConditionalEventDefinition","isAbstract":true,"extends":["bpmn:ConditionalEventDefinition"],"properties":[{"name":"variableName","isAttr":true,"type":"String"},{"name":"variableEvent","isAttr":true,"type":"String"}]}],"emumerations":[]}')},"2c07":function(e,t,n){"use strict";n("74cc")},"2cfa":function(e,t,n){"use strict";n.r(t);n("d3b7"),n("159b"),n("14d9");t["default"]={options:function(e,t,n){var a=[];return t.__slot__.options.forEach((function(n){"button"===t.__config__.optionType?a.push(e("el-radio-button",{attrs:{label:n.value}},[n.label])):a.push(e("el-radio",{attrs:{label:n.value,border:t.border}},[n.label]))})),a}}},"2d6f":function(e,t,n){},"2fa3":function(e,t,n){"use strict";n("c5f1")},"392d":function(e,t,n){"use strict";n("918f")},4203:function(e,t,n){"use strict";n("e523")},"43f5":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:6,xs:24}},[n("div",{staticClass:"head-container"},[n("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"请输入部门名称",clearable:"",size:"small","prefix-icon":"el-icon-search"},model:{value:e.deptName,callback:function(t){e.deptName=t},expression:"deptName"}})],1),n("div",{staticClass:"head-container"},[n("el-tree",{ref:"tree",attrs:{data:e.deptOptions,props:e.defaultProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"node-key":"id","default-expand-all":"","highlight-current":""},on:{"node-click":e.handleNodeClick}})],1)]),n("el-col",{attrs:{span:18,xs:24}},[n("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[n("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[n("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入用户名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),n("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[n("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入手机号码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phonenumber,callback:function(t){e.$set(e.queryParams,"phonenumber",t)},expression:"queryParams.phonenumber"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),n("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),n("el-table",{directives:[{name:"show",rawName:"v-show",value:"multiple"===e.checkType,expression:"checkType === 'multiple'"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"dataTable",attrs:{"row-key":e.getRowKey,data:e.userList},on:{"selection-change":e.handleMultipleUserSelect}},[n("el-table-column",{attrs:{type:"selection","reserve-selection":!0,width:"50",align:"center"}}),e.columns[0].visible?n("el-table-column",{key:"userId",attrs:{label:"用户编号",align:"center",prop:"userId"}}):e._e(),e.columns[1].visible?n("el-table-column",{key:"userName",attrs:{label:"登录账号",align:"center",prop:"userName","show-overflow-tooltip":!0}}):e._e(),e.columns[2].visible?n("el-table-column",{key:"nickName",attrs:{label:"用户姓名",align:"center",prop:"nickName","show-overflow-tooltip":!0}}):e._e(),e.columns[3].visible?n("el-table-column",{key:"deptName",attrs:{label:"部门",align:"center",prop:"dept.deptName","show-overflow-tooltip":!0}}):e._e(),e.columns[4].visible?n("el-table-column",{key:"phonenumber",attrs:{label:"手机号码",align:"center",prop:"phonenumber",width:"120"}}):e._e()],1),n("el-table",{directives:[{name:"show",rawName:"v-show",value:"single"===e.checkType,expression:"checkType === 'single'"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList},on:{"current-change":e.handleSingleUserSelect}},[n("el-table-column",{attrs:{width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-radio",{attrs:{label:t.row.userId},model:{value:e.radioSelected,callback:function(t){e.radioSelected=t},expression:"radioSelected"}},[e._v(e._s(""))])]}}])}),e.columns[0].visible?n("el-table-column",{key:"userId",attrs:{label:"用户编号",align:"center",prop:"userId"}}):e._e(),e.columns[1].visible?n("el-table-column",{key:"userName",attrs:{label:"登录账号",align:"center",prop:"userName","show-overflow-tooltip":!0}}):e._e(),e.columns[2].visible?n("el-table-column",{key:"nickName",attrs:{label:"用户姓名",align:"center",prop:"nickName","show-overflow-tooltip":!0}}):e._e(),e.columns[3].visible?n("el-table-column",{key:"deptName",attrs:{label:"部门",align:"center",prop:"dept.deptName","show-overflow-tooltip":!0}}):e._e(),e.columns[4].visible?n("el-table-column",{key:"phonenumber",attrs:{label:"手机号码",align:"center",prop:"phonenumber",width:"120"}}):e._e()],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,"page-sizes":[5,10],page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1)],1)},i=[],r=(n("a9e3"),n("4de4"),n("d3b7"),n("159b"),n("7db0"),n("c0c7")),s=n("ca17"),o=n.n(s),l=(n("542c"),n("1a8c")),c={name:"FlowUser",dicts:["sys_normal_disable","sys_user_sex"],components:{Treeselect:o.a},props:{selectValues:{type:Number|String|Array,default:null,required:!1},checkType:{type:String,default:"multiple",required:!0}},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,userList:[],title:"",deptOptions:void 0,open:!1,deptName:void 0,form:{},defaultProps:{children:"children",label:"label"},queryParams:{pageNum:1,pageSize:5,userName:void 0,phonenumber:void 0,status:void 0,deptId:void 0},columns:[{key:0,label:"用户编号",visible:!0},{key:1,label:"用户名称",visible:!0},{key:2,label:"用户昵称",visible:!0},{key:3,label:"部门",visible:!0},{key:4,label:"手机号码",visible:!0},{key:5,label:"状态",visible:!0},{key:6,label:"创建时间",visible:!0}],radioSelected:null,selectUserList:[]}},watch:{deptName:function(e){this.$refs.tree.filter(e)},selectValues:{handler:function(e){l["a"].isNotBlank(e)&&(e instanceof Number?this.radioSelected=e:this.selectUserList=e)},immediate:!0},userList:{handler:function(e){var t=this;l["a"].isNotBlank(e)&&this.selectUserList.length>0&&this.$nextTick((function(){var n;t.$refs.dataTable.clearSelection(),null===(n=t.selectUserList)||void 0===n||n.split(",").forEach((function(n){t.$refs.dataTable.toggleRowSelection(e.find((function(e){return n==e.userId})),!0)}))}))},immediate:!0,deep:!0}},created:function(){this.getList(),this.getDeptTree()},methods:{getList:function(){var e=this;this.loading=!0,Object(r["h"])(this.queryParams).then((function(t){e.userList=t.rows,e.total=t.total,e.loading=!1}))},getDeptTree:function(){var e=this;Object(r["d"])().then((function(t){e.deptOptions=t.data}))},getRowKey:function(e){return e.id},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){this.queryParams.deptId=e.id,this.handleQuery()},handleMultipleUserSelect:function(e){this.$emit("handleUserSelect",e)},handleSingleUserSelect:function(e){this.radioSelected=e.userId,this.$emit("handleUserSelect",e)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.queryParams.deptId=void 0,this.$refs.tree.setCurrentKey(null),this.handleQuery()}}},u=c,p=(n("4203"),n("2877")),m=Object(p["a"])(u,a,i,!1,null,null,null);t["a"]=m.exports},4758:function(e,t,n){"use strict";var a=n("5530"),i=n("2909"),r=n("53ca"),s=(n("d3b7"),n("ddb0"),n("159b"),n("ac1f"),n("5319"),n("b64b"),n("14d9"),n("4d63"),n("c607"),n("2c3e"),n("25f0"),n("caad"),n("99af"),n("ed08")),o={},l=n("9977"),c=l.keys()||[];function u(e,t,n){var a=this;if("el-upload"!==n.tag)e.props.value=t,e.on.input=function(e){a.$emit("input",e)};else{e.attrs["on-success"]=function(e,t,n){a.$emit("upload",e,t,n)},e.attrs["on-remove"]=function(e,t){a.$emit("deleteUpload",e,t)},e.attrs["on-preview"]=function(e,t){a.$emit("previewUpload",e,t)};try{e.props["file-list"]=JSON.parse(t)}catch(i){console.warn(i)}}}function p(e,t,n){var a=o[t.__config__.tag];a&&Object.keys(a).forEach((function(i){var r=a[i];t.__slot__&&t.__slot__[i]&&n.push(r(e,t,i))}))}function m(e){var t=this;["on","nativeOn"].forEach((function(n){var a=Object.keys(e[n]||{});a.forEach((function(a){var i=e[n][a];"string"===typeof i&&(e[n][a]=function(e){return t.$emit(i,e)})}))}))}function d(e,t){var n=this;Object.keys(e).forEach((function(s){var o=e[s];"__vModel__"===s?u.call(n,t,e.__config__.defaultValue,e.__config__):void 0!==t[s]?null===t[s]||t[s]instanceof RegExp||["boolean","string","number","function"].includes(Object(r["a"])(t[s]))?t[s]=o:Array.isArray(t[s])?t[s]=[].concat(Object(i["a"])(t[s]),Object(i["a"])(o)):t[s]=Object(a["a"])(Object(a["a"])({},t[s]),o):t.attrs[s]=o})),f(t)}function f(e){delete e.attrs.__config__,delete e.attrs.__slot__,delete e.attrs.__methods__}function b(){return{class:{},attrs:{},props:{},domProps:{},nativeOn:{},on:{},style:{},directives:[],scopedSlots:{},slot:null,key:null,ref:null,refInFor:!0}}c.forEach((function(e){var t=e.replace(/^\.\/(.*)\.\w+$/,"$1"),n=l(e).default;o[t]=n})),t["a"]={props:{conf:{type:Object,required:!0}},render:function(e){var t=b(),n=Object(s["c"])(this.conf),a=this.$slots.default||[];return p.call(this,e,n,a),m.call(this,n),d.call(this,n,t),e(this.conf.__config__.tag,t,a)}}},"520f":function(e,t,n){"use strict";n("cea3")},"59a0":function(e,t,n){"use strict";n("1d6d")},"5de7":function(e,t,n){"use strict";n("ed3b")},"61c1":function(e,t,n){"use strict";n("03d65")},"74cc":function(e,t,n){},"7f29":function(e,t,n){"use strict";n.r(t);n("d3b7"),n("159b"),n("14d9");t["default"]={options:function(e,t,n){var a=[];return t.__slot__.options.forEach((function(t){a.push(e("el-option",{attrs:{label:t.label,value:t.value,disabled:t.disabled}}))})),a}}},"918f":function(e,t,n){},9413:function(e,t,n){"use strict";n.r(t);n("d3b7"),n("159b"),n("14d9");t["default"]={options:function(e,t,n){var a=[];return t.__slot__.options.forEach((function(n){"button"===t.__config__.optionType?a.push(e("el-checkbox-button",{attrs:{label:n.value}},[n.label])):a.push(e("el-checkbox",{attrs:{label:n.value,border:t.border}},[n.label]))})),a}}},"9f75":function(e,t,n){"use strict";var a,i,r=n("f50d"),s=r["a"],o=n("2877"),l=Object(o["a"])(s,a,i,!1,null,null,null);t["a"]=l.exports},a686:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0}},[n("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[n("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入角色名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleName,callback:function(t){e.$set(e.queryParams,"roleName",t)},expression:"queryParams.roleName"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),n("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),n("el-table",{directives:[{name:"show",rawName:"v-show",value:"multiple"===e.checkType,expression:"checkType === 'multiple'"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"dataTable",attrs:{data:e.roleList},on:{"selection-change":e.handleMultipleRoleSelect}},[n("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),n("el-table-column",{attrs:{label:"角色编号",prop:"roleId",width:"120"}}),n("el-table-column",{attrs:{label:"角色名称",prop:"roleName","show-overflow-tooltip":!0,width:"150"}}),n("el-table-column",{attrs:{label:"权限字符",prop:"roleKey","show-overflow-tooltip":!0,width:"150"}}),n("el-table-column",{attrs:{label:"显示顺序",prop:"roleSort",width:"100"}}),n("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])})],1),n("el-table",{directives:[{name:"show",rawName:"v-show",value:"single"===e.checkType,expression:"checkType === 'single'"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.roleList},on:{"current-change":e.handleSingleRoleSelect}},[n("el-table-column",{attrs:{width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-radio",{attrs:{label:t.row.roleId},model:{value:e.radioSelected,callback:function(t){e.radioSelected=t},expression:"radioSelected"}},[e._v(e._s(""))])]}}])}),n("el-table-column",{attrs:{label:"角色编号",prop:"roleId",width:"120"}}),n("el-table-column",{attrs:{label:"角色名称",prop:"roleName","show-overflow-tooltip":!0,width:"150"}}),n("el-table-column",{attrs:{label:"权限字符",prop:"roleKey","show-overflow-tooltip":!0,width:"150"}}),n("el-table-column",{attrs:{label:"显示顺序",prop:"roleSort",width:"100"}}),n("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,"page-sizes":[5,10],page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)},i=[],r=(n("a9e3"),n("d3b7"),n("159b"),n("7db0"),n("d81d"),n("a15b"),n("25f0"),n("3528")),s=(n("a6dc"),n("1a8c")),o={name:"FlowRole",dicts:["sys_normal_disable"],props:{selectValues:{type:Number|String|Array,default:null,required:!1},checkType:{type:String,default:"multiple",required:!1}},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,roleList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:5,roleName:void 0,roleKey:void 0,status:void 0},form:{},radioSelected:null,selectRoleList:[]}},watch:{selectValues:{handler:function(e){s["a"].isNotBlank(e)&&(e instanceof Number||e instanceof String?this.radioSelected=e:this.selectRoleList=e)},immediate:!0},roleList:{handler:function(e){var t=this;s["a"].isNotBlank(e)&&this.selectRoleList.length>0&&this.$nextTick((function(){var n;t.$refs.dataTable.clearSelection(),null===(n=t.selectRoleList)||void 0===n||n.split(",").forEach((function(n){t.$refs.dataTable.toggleRowSelection(e.find((function(e){return n==e.roleId})),!0)}))}))},immediate:!0,deep:!0}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(r["k"])(this.queryParams).then((function(t){e.roleList=t.rows,e.total=t.total,e.loading=!1}))},handleMultipleRoleSelect:function(e){var t=e.map((function(e){return e.roleId})),n=e.map((function(e){return e.roleName}));this.$emit("handleRoleSelect",t.join(","),n.join(","))},handleSingleRoleSelect:function(e){this.radioSelected=e.roleId;var t=e.roleName;this.$emit("handleRoleSelect",this.radioSelected.toString(),t)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.handleQuery()}}},l=o,c=(n("5de7"),n("2877")),u=Object(c["a"])(l,a,i,!1,null,null,null);t["a"]=u.exports},aace:function(e,t,n){"use strict";n.r(t),t["default"]={default:function(e,t,n){return t.__slot__[n]}}},ae3a:function(e,t,n){"use strict";n("b0c0");var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isView,expression:"isView"}],staticClass:"flow-containers",class:{"view-mode":e.isView}},[n("el-container",{staticStyle:{height:"100%"}},[n("el-header",{staticStyle:{"border-bottom":"1px solid rgb(218 218 218)",height:"auto","padding-left":"0px"}},[n("div",{staticStyle:{display:"flex",padding:"10px 0px","justify-content":"space-between"}},[n("div",[n("el-upload",{staticStyle:{"margin-right":"10px",display:"inline-block"},attrs:{action:"","before-upload":e.openBpmn}},[n("el-tooltip",{attrs:{effect:"dark",content:"加载xml",placement:"bottom"}},[n("el-button",{attrs:{size:"mini",icon:"el-icon-folder-opened"}})],1)],1),n("el-tooltip",{attrs:{effect:"dark",content:"新建",placement:"bottom"}},[n("el-button",{attrs:{size:"mini",icon:"el-icon-circle-plus"},on:{click:e.newDiagram}})],1),n("el-tooltip",{attrs:{effect:"dark",content:"自适应屏幕",placement:"bottom"}},[n("el-button",{attrs:{size:"mini",icon:"el-icon-rank"},on:{click:e.fitViewport}})],1),n("el-tooltip",{attrs:{effect:"dark",content:"放大",placement:"bottom"}},[n("el-button",{attrs:{size:"mini",icon:"el-icon-zoom-in"},on:{click:function(t){return e.zoomViewport(!0)}}})],1),n("el-tooltip",{attrs:{effect:"dark",content:"缩小",placement:"bottom"}},[n("el-button",{attrs:{size:"mini",icon:"el-icon-zoom-out"},on:{click:function(t){return e.zoomViewport(!1)}}})],1),n("el-tooltip",{attrs:{effect:"dark",content:"后退",placement:"bottom"}},[n("el-button",{attrs:{size:"mini",icon:"el-icon-back"},on:{click:function(t){e.modeler.get("commandStack").undo()}}})],1),n("el-tooltip",{attrs:{effect:"dark",content:"前进",placement:"bottom"}},[n("el-button",{attrs:{size:"mini",icon:"el-icon-right"},on:{click:function(t){e.modeler.get("commandStack").redo()}}})],1)],1),n("div",[n("el-button",{attrs:{size:"mini",icon:"el-icon-view"},on:{click:e.showXML}},[e._v("查看xml")]),n("el-button",{attrs:{size:"mini",icon:"el-icon-download"},on:{click:function(t){return e.saveXML(!0)}}},[e._v("下载xml")]),n("el-button",{attrs:{size:"mini",icon:"el-icon-picture"},on:{click:function(t){return e.saveImg("svg",!0)}}},[e._v("下载svg")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.save}},[e._v("保存模型")])],1)])]),n("el-container",{staticStyle:{"align-items":"stretch"}},[n("el-main",{staticStyle:{padding:"0"}},[n("div",{ref:"canvas",staticClass:"canvas"})]),n("el-aside",{staticStyle:{width:"400px","min-height":"650px","background-color":"#f0f2f5"}},[e.modeler?n("panel",{attrs:{modeler:e.modeler,users:e.users,groups:e.groups,exps:e.exps,formCategorys:e.formCategorys,categorys:e.categorys}}):e._e()],1)],1)],1)],1)},i=[],r=n("c7eb"),s=n("1da1"),o=(n("ac1f"),n("5319"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),{"Activate the global connect tool":"激活全局连接工具","Append {type}":"添加 {type}","Append Task":"添加任务","Append Gateway":"添加网关","Append EndEvent":"添加结束事件","Append StartEvent":"添加开始事件","Append Intermediate/Boundary Event":"添加边界事件","Add Lane above":"在上面添加道","Divide into two Lanes":"分割成两个道","Divide into three Lanes":"分割成三个道","Add Lane below":"在下面添加道","Append compensation activity":"追加补偿活动","Change type":"修改类型","Connect using Association":"使用关联连接","Connect using Sequence/MessageFlow or Association":"使用顺序/消息流或者关联连接","Connect using DataInputAssociation":"使用数据输入关联连接",Remove:"移除","Activate the hand tool":"激活抓手工具","Activate the lasso tool":"激活套索工具","Activate the create/remove space tool":"激活创建/删除空间工具","Create expanded SubProcess":"创建扩展子过程","Create IntermediateThrowEvent/BoundaryEvent":"创建中间抛出事件/边界事件","Create Pool/Participant":"创建池/参与者","Parallel Multi Instance":"并行多重事件","Sequential Multi Instance":"时序多重事件",DataObjectReference:"数据对象参考",DataStoreReference:"数据存储参考",Loop:"循环","Ad-hoc":"即席","Create {type}":"创建 {type}",Task:"任务","Send Task":"发送任务","Receive Task":"接收任务","User Task":"用户任务","Manual Task":"手工任务","Business Rule Task":"业务规则任务","Service Task":"服务任务","Script Task":"脚本任务","Call Activity":"调用活动","Sub Process (collapsed)":"子流程（折叠的）","Sub Process (expanded)":"子流程（展开的）","Start Event":"开始事件",StartEvent:"开始事件","Intermediate Throw Event":"中间事件","End Event":"结束事件",EndEvent:"结束事件","Create Gateway":"创建网关","Create Intermediate/Boundary Event":"创建中间/边界事件","Message Start Event":"消息开始事件","Timer Start Event":"定时开始事件","Conditional Start Event":"条件开始事件","Signal Start Event":"信号开始事件","Error Start Event":"错误开始事件","Escalation Start Event":"升级开始事件","Compensation Start Event":"补偿开始事件","Message Start Event (non-interrupting)":"消息开始事件（非中断）","Timer Start Event (non-interrupting)":"定时开始事件（非中断）","Conditional Start Event (non-interrupting)":"条件开始事件（非中断）","Signal Start Event (non-interrupting)":"信号开始事件（非中断）","Escalation Start Event (non-interrupting)":"升级开始事件（非中断）","Message Intermediate Catch Event":"消息中间捕获事件","Message Intermediate Throw Event":"消息中间抛出事件","Timer Intermediate Catch Event":"定时中间捕获事件","Escalation Intermediate Throw Event":"升级中间抛出事件","Conditional Intermediate Catch Event":"条件中间捕获事件","Link Intermediate Catch Event":"链接中间捕获事件","Link Intermediate Throw Event":"链接中间抛出事件","Compensation Intermediate Throw Event":"补偿中间抛出事件","Signal Intermediate Catch Event":"信号中间捕获事件","Signal Intermediate Throw Event":"信号中间抛出事件","Message End Event":"消息结束事件","Escalation End Event":"定时结束事件","Error End Event":"错误结束事件","Cancel End Event":"取消结束事件","Compensation End Event":"补偿结束事件","Signal End Event":"信号结束事件","Terminate End Event":"终止结束事件","Message Boundary Event":"消息边界事件","Message Boundary Event (non-interrupting)":"消息边界事件（非中断）","Timer Boundary Event":"定时边界事件","Timer Boundary Event (non-interrupting)":"定时边界事件（非中断）","Escalation Boundary Event":"升级边界事件","Escalation Boundary Event (non-interrupting)":"升级边界事件（非中断）","Conditional Boundary Event":"条件边界事件","Conditional Boundary Event (non-interrupting)":"条件边界事件（非中断）","Error Boundary Event":"错误边界事件","Cancel Boundary Event":"取消边界事件","Signal Boundary Event":"信号边界事件","Signal Boundary Event (non-interrupting)":"信号边界事件（非中断）","Compensation Boundary Event":"补偿边界事件","Exclusive Gateway":"互斥网关","Parallel Gateway":"并行网关","Inclusive Gateway":"相容网关","Complex Gateway":"复杂网关","Event based Gateway":"事件网关",Transaction:"转运","Sub Process":"子流程","Event Sub Process":"事件子流程","Collapsed Pool":"折叠池","Expanded Pool":"展开池","no parent for {element} in {parent}":"在{parent}里，{element}没有父类","no shape type specified":"没有指定的形状类型","flow elements must be children of pools/participants":"流元素必须是池/参与者的子类","out of bounds release":"out of bounds release","more than {count} child lanes":"子道大于{count} ","element required":"元素不能为空","diagram not part of bpmn:Definitions":"流程图不符合bpmn规范","no diagram to display":"没有可展示的流程图","no process or collaboration to display":"没有可展示的流程/协作","element {element} referenced by {referenced}#{property} not yet drawn":"由{referenced}#{property}引用的{element}元素仍未绘制","already rendered {element}":"{element} 已被渲染","failed to import {element}":"导入{element}失败",Id:"标识",Name:"名称",General:"常规",Details:"详情","Message Name":"消息名称",Message:"消息",Initiator:"创建者","Asynchronous Continuations":"持续异步","Asynchronous Before":"异步前","Asynchronous After":"异步后","Job Configuration":"工作配置",Exclusive:"排除","Job Priority":"工作优先级","Retry Time Cycle":"重试时间周期",Documentation:"文档","Element Documentation":"元素文档","History Configuration":"历史配置","History Time To Live":"历史的生存时间",Forms:"表单","Form Key":"表单key","Form Fields":"表单字段","Business Key":"业务key","Form Field":"表单字段",ID:"编号",Type:"类型",Label:"名称","Default Value":"默认值",Validation:"校验","Add Constraint":"添加约束",Config:"配置",Properties:"属性","Add Property":"添加属性",Value:"值",Listeners:"监听器","Execution Listener":"执行监听","Event Type":"事件类型","Listener Type":"监听器类型","Java Class":"Java类",Expression:"表达式","Must provide a value":"必须提供一个值","Delegate Expression":"代理表达式",Script:"脚本","Script Format":"脚本格式","Script Type":"脚本类型","Inline Script":"内联脚本","External Script":"外部脚本",Resource:"资源","Field Injection":"字段注入",Extensions:"扩展","Input/Output":"输入/输出","Input Parameters":"输入参数","Output Parameters":"输出参数",Parameters:"参数","Output Parameter":"输出参数","Timer Definition Type":"定时器定义类型","Timer Definition":"定时器定义",Date:"日期",Duration:"持续",Cycle:"循环",Signal:"信号","Signal Name":"信号名称",Escalation:"升级",Error:"错误","Link Name":"链接名称",Condition:"条件名称","Variable Name":"变量名称","Variable Event":"变量事件","Specify more than one variable change event as a comma separated list.":"多个变量事件以逗号隔开","Wait for Completion":"等待完成","Activity Ref":"活动参考","Version Tag":"版本标签",Executable:"可执行文件","External Task Configuration":"扩展任务配置","Task Priority":"任务优先级",External:"外部",Connector:"连接器","Must configure Connector":"必须配置连接器","Connector Id":"连接器编号",Implementation:"实现方式","Field Injections":"字段注入",Fields:"字段","Result Variable":"结果变量",Topic:"主题","Configure Connector":"配置连接器","Input Parameter":"输入参数",Assignee:"代理人","Candidate Users":"候选用户","Candidate Groups":"候选组","Due Date":"到期时间","Follow Up Date":"跟踪日期",Priority:"优先级","The follow up date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)":"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00","The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)":"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00",Variables:"变量"}),l={"bpmn:Process":"流程","bpmn:StartEvent":"开始事件","bpmn:IntermediateThrowEvent":"中间事件","bpmn:Task":"任务","bpmn:SendTask":"发送任务","bpmn:ReceiveTask":"接收任务","bpmn:UserTask":"用户任务","bpmn:ManualTask":"手工任务","bpmn:BusinessRuleTask":"业务规则任务","bpmn:ServiceTask":"服务任务","bpmn:ScriptTask":"脚本任务","bpmn:EndEvent":"结束事件","bpmn:SequenceFlow":"流程线","bpmn:ExclusiveGateway":"互斥网关","bpmn:ParallelGateway":"并行网关","bpmn:InclusiveGateway":"相容网关","bpmn:ComplexGateway":"复杂网关","bpmn:EventBasedGateway":"事件网关"};function c(e,t){return t=t||{},e=o[e]||e,e.replace(/{([^}]+)}/g,(function(e,n){return t[n]||"{"+n+"}"}))}var u=n("e556"),p=n("7024"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"propertyPanel",staticClass:"property-panel"},[e.nodeName?n("div",{staticClass:"node-name"},[e._v(e._s(e.nodeName))]):e._e(),e.element?n(e.getComponent,{tag:"component",attrs:{element:e.element,modeler:e.modeler,users:e.users,groups:e.groups,exps:e.exps,categorys:e.categorys,formCategorys:e.formCategorys}}):e._e()],1)},d=[],f=(n("caad"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("x-form",{ref:"xForm",attrs:{config:e.formConfig},scopedSlots:e._u([{key:"executionListener",fn:function(){return[n("el-badge",{attrs:{value:e.executionListenerLength}},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogName="executionListenerDialog"}}},[e._v("编辑")])],1)]},proxy:!0},{key:"taskListener",fn:function(){return[n("el-badge",{attrs:{value:e.taskListenerLength}},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogName="taskListenerDialog"}}},[e._v("编辑")])],1)]},proxy:!0},{key:"checkSingleUser",fn:function(){return[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请选择单个用户"},model:{value:e.checkValues,callback:function(t){e.checkValues=t},expression:"checkValues"}},[n("template",{slot:"append"},[n("el-button",{staticStyle:{"padding-left":"7px"},attrs:{icon:"el-icon-user"},on:{click:e.singleUserCheck}}),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{"padding-right":"7px"},attrs:{icon:"el-icon-postcard"},on:{click:function(t){return e.singleExpCheck("assignee")}}})],1)],2)]},proxy:!0},{key:"checkMultipleUser",fn:function(){return[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请选择候选用户"},model:{value:e.checkValues,callback:function(t){e.checkValues=t},expression:"checkValues"}},[n("template",{slot:"append"},[n("el-button",{staticStyle:{"padding-left":"7px"},attrs:{icon:"el-icon-user"},on:{click:e.multipleUserCheck}}),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{"padding-right":"7px"},attrs:{icon:"el-icon-postcard"},on:{click:function(t){return e.singleExpCheck("candidateUsers")}}})],1)],2)]},proxy:!0},{key:"checkRole",fn:function(){return[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请选择候选组"},model:{value:e.checkValues,callback:function(t){e.checkValues=t},expression:"checkValues"}},[n("template",{slot:"append"},[n("el-button",{staticStyle:{"padding-left":"7px"},attrs:{icon:"el-icon-user"},on:{click:e.multipleGroupsCheck}}),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{"padding-right":"7px"},attrs:{icon:"el-icon-postcard"},on:{click:function(t){return e.singleExpCheck("candidateGroups")}}})],1)],2)]},proxy:!0}]),model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),"executionListenerDialog"===e.dialogName?n("executionListenerDialog",{attrs:{element:e.element,modeler:e.modeler},on:{close:e.finishExecutionListener}}):e._e(),"taskListenerDialog"===e.dialogName?n("taskListenerDialog",{attrs:{element:e.element,modeler:e.modeler},on:{close:e.finishTaskListener}}):e._e(),"multiInstanceDialog"===e.dialogName?n("multiInstanceDialog",{attrs:{element:e.element,modeler:e.modeler},on:{close:e.finishMultiInstance}}):e._e(),n("el-dialog",{attrs:{title:"选择人员",visible:e.userVisible,width:"60%","close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.userVisible=t}}},[n("editor-users",{attrs:{checkType:e.checkType},on:{handleUserSelect:e.handleUserSelect}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.userVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.checkUserComplete}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"选择表达式",visible:e.expVisible,width:"60%","close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.expVisible=t}}},[n("flow-exp",{attrs:{selectValues:e.selectValues},on:{handleSingleExpSelect:e.handleSingleExpSelect}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.expVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.checkExpComplete}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"选择候选组",visible:e.roleVisible,width:"60%","close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.roleVisible=t}}},[n("editor-groups",{attrs:{checkType:e.checkType},on:{handleGroupsSelect:e.handleGroupsSelect}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.roleVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.checkRoleComplete}},[e._v("确 定")])],1)],1)],1)}),b=[],h=(n("4de4"),n("7db0"),n("2532"),n("a15b"),n("d81d"),n("9b3c")),g=n.n(h),_=n("a8b6"),v={"bpmn:EndEvent":{},"bpmn:StartEvent":{initiator:!0,formKey:!0},"bpmn:UserTask":{userType:!0,assignee:!0,candidateUsers:!0,candidateGroups:!0,one:!0,two:!0,async:!0,priority:!0,formKey:!0,skipExpression:!0,dueDate:!0,taskListener:!0},"bpmn:ServiceTask":{async:!0,skipExpression:!0,isForCompensation:!0,triggerable:!0,class:!0},"bpmn:ScriptTask":{async:!0,isForCompensation:!0,autoStoreVariables:!0},"bpmn:ManualTask":{async:!0,isForCompensation:!0},"bpmn:ReceiveTask":{async:!0,isForCompensation:!0},"bpmn:SendTask":{async:!0,isForCompensation:!0},"bpmn:BusinessRuleTask":{async:!0,isForCompensation:!0,ruleVariablesInput:!0,rules:!0,resultVariable:!0,exclude:!0}};_["a"].set({input:{},select:{},colorPicker:{showAlpha:!0},xform:{form:{labelWidth:"auto"}}});var y={components:{xForm:g.a.xForm},props:{modeler:{type:Object,required:!0},element:{type:Object,required:!0},categorys:{type:Array,default:function(){return[]}},formCategorys:{type:Array,default:function(){return[]}},formormCategorys:{type:Array,default:function(){return[]}}},watch:{"formData.id":function(e){this.updateProperties({id:e})},"formData.name":function(e){this.updateProperties({name:e})},"formData.documentation":function(e){if(e){var t=this.modeler.get("moddle").create("bpmn:Documentation",{text:e});this.updateProperties({documentation:[t]})}else this.updateProperties({documentation:[]})}},methods:{updateProperties:function(e){var t=this.modeler.get("modeling");t.updateProperties(this.element,e)}},computed:{elementType:function(){var e=this.element.businessObject;return e.eventDefinitions?e.eventDefinitions[0].$type:e.$type},showConfig:function(){return v[this.elementType]||{}}}},x=function(){var e=this,t=this,n=t.$createElement,a=t._self._c||n;return a("div",[a("el-dialog",{attrs:{title:"执行监听器",visible:t.dialogVisible,width:"900px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.dialogVisible=e},closed:function(e){return t.$emit("close")}}},[a("x-form",{ref:"xForm",attrs:{config:t.formConfig},scopedSlots:t._u([{key:"params",fn:function(e){return[a("el-badge",{attrs:{value:e.row.params?e.row.params.length:0,type:"primary"}},[a("el-button",{attrs:{size:"small"},on:{click:function(n){return t.configParam(e.$index)}}},[t._v("配置")])],1)]}}]),model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.closeDialog}},[t._v("确 定")])],1),a("listener-list",{attrs:{visible:t.listenerDialogVisible},on:{close:function(){return e.listenerDialogVisible=!1},submit:t.addListener}})],1),t.showParamDialog?a("listenerParam",{attrs:{value:t.formData.executionListener[t.nowIndex].params},on:{close:t.finishConfigParam}}):t._e()],1)},w=[],E=(n("159b"),n("14d9"),n("99af"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-dialog",{attrs:{title:"监听器参数",visible:e.dialogVisible,width:"700px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.dialogVisible=t},closed:function(t){return e.$emit("close",e.formData.paramList)}}},[n("x-form",{ref:"xForm",attrs:{config:e.formConfig},model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.closeDialog}},[e._v("确 定")])],1)],1)],1)}),k=[];_["a"].set({input:{},select:{},colorPicker:{showAlpha:!0},xform:{form:{labelWidth:"auto"}}});var S={components:{xForm:g.a.xForm}},L={mixins:[S],props:{value:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!0,formData:{paramList:this.value}}},computed:{formConfig:function(){return{inline:!1,item:[{xType:"tabs",tabs:[{label:"监听器参数",name:"paramList",column:[{label:"类型",name:"type",width:180,rules:[{required:!0,message:"请选择",trigger:["blur","change"]}],xType:"select",dic:[{label:"字符串",value:"stringValue"},{label:"表达式",value:"expression"}]},{label:"名称",name:"name",width:180,rules:[{required:!0,message:"请选择",trigger:["blur","change"]}],xType:"input"},{label:"值",name:"value",xType:"input",rules:[{required:!0,message:"请输入",trigger:["blur","change"]}]}]}]}]}}},methods:{closeDialog:function(){var e=this;this.$refs.xForm.validate().then((function(){e.dialogVisible=!1})).catch((function(e){return console.error(e)}))}}},T=L,D=(n("61c1"),n("2877")),C=Object(D["a"])(T,E,k,!1,null,null,null),P=C.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",[n("el-form",{ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[n("el-form-item",{attrs:{label:"名称",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),n("el-form-item",{attrs:{label:"监听类型",prop:"type"}},[n("el-select",{attrs:{placeholder:"请选择监听类型",clearable:""},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},e._l(e.dict.type.sys_listener_type,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),n("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.listenerList},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),n("el-table-column",{attrs:{label:"名称",align:"center",prop:"name"}}),n("el-table-column",{attrs:{label:"监听类型",align:"center",prop:"type"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("dict-tag",{attrs:{options:e.dict.type.sys_listener_type,value:t.row.type}})]}}])}),n("el-table-column",{attrs:{label:"事件类型",align:"center",prop:"eventType"}}),n("el-table-column",{attrs:{label:"值类型",align:"center",prop:"valueType"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("dict-tag",{attrs:{options:e.dict.type.sys_listener_value_type,value:t.row.valueType}})]}}])}),n("el-table-column",{attrs:{label:"执行内容",align:"center",prop:"value"}})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,"page-sizes":[5,10],page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)},A=[],j=(n("a9e3"),n("5a4d")),I={name:"FlowListener",dicts:["sys_listener_value_type","sys_listener_type","common_status","sys_listener_event_type"],props:{selectValues:{type:Number|String|Array,default:null,required:!1}},data:function(){return{loading:!0,listenerList:[],total:0,queryParams:{pageNum:1,pageSize:5,name:null,type:null,eventType:null,valueType:null,value:null,status:null}}},mounted:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(j["d"])(this.queryParams).then((function(t){e.listenerList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.$emit("handleSelect",e)}}},N=I,M=Object(D["a"])(N,O,A,!1,null,"c75fd240",null),q=M.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"内置监听器",width:"900px",visible:e.dialogVisible,"append-to-body":"","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"before-close":e.close},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("flow-listener",{on:{handleSelect:e.handleSelect}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.close}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.checkComplete}},[e._v("确 定")])],1)],1)},B=[],R={name:"ListentList",components:{FlowListener:q},props:{visible:{type:Boolean,default:!1}},data:function(){return{dialogVisible:this.visible,listenerList:[]}},watch:{visible:{handler:function(e){this.dialogVisible=e},immediate:!0,deep:!0}},methods:{close:function(){this.dialogVisible=!1,this.$emit("close")},checkComplete:function(){this.close(),this.$emit("submit",this.listenerList)},handleSelect:function(e){var t=["class","expression","delegateExpression"],n=[];e.forEach((function(e){var a={event:e.eventType,type:t[parseInt(e.valueType)-1],className:e.value};n.push(a)})),this.listenerList=n}}},$=R,F=Object(D["a"])($,V,B,!1,null,null,null),U=F.exports,z={components:{ListenerList:U,listenerParam:P,FlowListener:q},mixins:[y],data:function(){return{dialogVisible:!0,listenerDialogVisible:!1,showParamDialog:!1,nowIndex:null,formData:{executionListener:[]}}},computed:{formConfig:function(){return{inline:!1,item:[{xType:"tabs",tabs:[{label:"执行监听器",name:"executionListener",column:[{label:"事件",name:"event",width:180,rules:[{required:!0,message:"请选择",trigger:["blur","change"]}],xType:"select",dic:[{label:"start",value:"start"},{label:"end",value:"end"},{label:"take",value:"take"}]},{label:"类型",name:"type",width:180,rules:[{required:!0,message:"请选择",trigger:["blur","change"]}],xType:"select",dic:[{label:"类",value:"class"},{label:"表达式",value:"expression"},{label:"委托表达式",value:"delegateExpression"}],tooltip:"类：示例 com.company.MyCustomListener，自定义类必须实现 org.flowable.engine.delegate.ExecutionListener 接口 <br />\n                              表达式：示例 ${myObject.callMethod(task, task.eventName)} <br />\n                              委托表达式：示例 ${myListenerSpringBean} ，该 springBean 需要实现 org.flowable.engine.delegate.ExecutionListener 接口\n                    "},{label:"值",name:"className",xType:"input",rules:[{required:!0,message:"请输入",trigger:["blur","change"]}]},{xType:"slot",label:"参数",width:120,slot:!0,name:"params"}]}]}]}}},mounted:function(){var e,t;this.formData.executionListener=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t?void 0:t.values.filter((function(e){return"flowable:ExecutionListener"===e.$type})).map((function(e){var t,n,a;return"class"in e&&(a="class"),"expression"in e&&(a="expression"),"delegateExpression"in e&&(a="delegateExpression"),{event:e.event,type:a,className:e[a],params:null!==(t=null===(n=e.fields)||void 0===n?void 0:n.map((function(e){var t;return"stringValue"in e&&(t="stringValue"),"expression"in e&&(t="expression"),{name:e.name,type:t,value:e[t]}})))&&void 0!==t?t:[]}})))&&void 0!==e?e:[]},methods:{addButton:function(){var e=this,t=document.createElement("button");t.innerText="内置监听器",t.setAttribute("type","button"),t.setAttribute("class","el-button el-button--primary el-button--mini"),t.addEventListener("click",(function(){return e.listenerDialogVisible=!0}));var n=document.getElementById("pane-executionListener"),a=n.getElementsByClassName("el-table")[0];n.insertBefore(t,a)},configParam:function(e){this.nowIndex=e;var t=this.formData.executionListener[e];t.params||(t.params=[]),this.showParamDialog=!0},finishConfigParam:function(e){this.showParamDialog=!1;var t=this.formData.executionListener[this.nowIndex];t.params=e,this.$set(this.formData.executionListener[this.nowIndex],this.nowIndex,t),this.nowIndex=null},updateElement:function(){var e,t=this;if(null!==(e=this.formData.executionListener)&&void 0!==e&&e.length){var n,a,i=this.element.businessObject.get("extensionElements");i||(i=this.modeler.get("moddle").create("bpmn:ExtensionElements")),i.values=null!==(n=null===(a=i.values)||void 0===a?void 0:a.filter((function(e){return"flowable:ExecutionListener"!==e.$type})))&&void 0!==n?n:[],this.formData.executionListener.forEach((function(e){var n=t.modeler.get("moddle").create("flowable:ExecutionListener");n["event"]=e.event,n[e.type]=e.className,e.params&&e.params.length&&e.params.forEach((function(e){var a=t.modeler.get("moddle").create("flowable:Field");a["name"]=e.name,a[e.type]=e.value,n.get("fields").push(a)})),i.get("values").push(n)})),this.updateProperties({extensionElements:i})}else{var r,s,o=this.element.businessObject["extensionElements"];if(o)o.values=null!==(r=null===(s=o.values)||void 0===s?void 0:s.filter((function(e){return"flowable:ExecutionListener"!==e.$type})))&&void 0!==r?r:[]}},closeDialog:function(){var e=this;console.log(this.formData),this.$refs.xForm.validate().then((function(){e.updateElement(),e.dialogVisible=!1})).catch((function(e){return console.error(e)}))},addListener:function(e){this.formData.executionListener=this.formData.executionListener.concat(e)}}},G=z,K=(n("2fa3"),Object(D["a"])(G,x,w,!1,null,null,null)),W=K.exports,Q=function(){var e=this,t=this,n=t.$createElement,a=t._self._c||n;return a("div",[a("el-dialog",{attrs:{title:"任务监听器",visible:t.dialogVisible,width:"900px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.dialogVisible=e},closed:function(e){return t.$emit("close")}}},[a("x-form",{ref:"xForm",attrs:{config:t.formConfig},scopedSlots:t._u([{key:"params",fn:function(e){return[a("el-badge",{attrs:{value:e.row.params?e.row.params.length:0,type:"primary"}},[a("el-button",{attrs:{size:"small"},on:{click:function(n){return t.configParam(e.$index)}}},[t._v("配置")])],1)]}}]),model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.closeDialog}},[t._v("确 定")])],1),a("listener-list",{attrs:{visible:t.listenerDialogVisible},on:{close:function(){return e.listenerDialogVisible=!1},submit:t.addListener}})],1),t.showParamDialog?a("listenerParam",{attrs:{value:t.formData.taskListener[t.nowIndex].params},on:{close:t.finishConfigParam}}):t._e()],1)},J=[],X={components:{listenerParam:P,ListenerList:U},mixins:[y],data:function(){return{dialogVisible:!0,listenerDialogVisible:!1,showParamDialog:!1,nowIndex:null,formData:{taskListener:[]}}},computed:{formConfig:function(){return{inline:!1,item:[{xType:"tabs",tabs:[{label:"任务监听器",name:"taskListener",column:[{label:"事件",name:"event",width:180,rules:[{required:!0,message:"请选择",trigger:["blur","change"]}],xType:"select",dic:[{label:"create",value:"create"},{label:"assignment",value:"assignment"},{label:"complete",value:"complete"},{label:"delete",value:"delete"}],tooltip:"create（创建）：当任务已经创建，并且所有任务参数都已经设置时触发。<br />\n                              assignment（指派）：当任务已经指派给某人时触发。请注意：当流程执行到达用户任务时，在触发create事件之前，会首先触发assignment事件。<br />\n                              complete（完成）：当任务已经完成，从运行时数据中删除前触发。<br />\n                              delete（删除）：在任务即将被删除前触发。请注意任务由completeTask正常完成时也会触发。\n                    "},{label:"类型",name:"type",width:180,rules:[{required:!0,message:"请选择",trigger:["blur","change"]}],xType:"select",dic:[{label:"类",value:"class"},{label:"表达式",value:"expression"},{label:"委托表达式",value:"delegateExpression"}],tooltip:"类：示例 com.company.MyCustomListener，自定义类必须实现 org.flowable.engine.delegate.TaskListener 接口 <br />\n                              表达式：示例 ${myObject.callMethod(task, task.eventName)} <br />\n                              委托表达式：示例 ${myListenerSpringBean} ，该 springBean 需要实现 org.flowable.engine.delegate.TaskListener 接口\n                    "},{label:"值",name:"className",xType:"input",rules:[{required:!0,message:"请输入",trigger:["blur","change"]}]}]}]}]}}},mounted:function(){var e,t;this.formData.taskListener=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t?void 0:t.values.filter((function(e){return"flowable:TaskListener"===e.$type})).map((function(e){var t,n,a;return"class"in e&&(a="class"),"expression"in e&&(a="expression"),"delegateExpression"in e&&(a="delegateExpression"),{event:e.event,type:a,className:e[a],params:null!==(t=null===(n=e.fields)||void 0===n?void 0:n.map((function(e){var t;return"stringValue"in e&&(t="stringValue"),"expression"in e&&(t="expression"),{name:e.name,type:t,value:e[t]}})))&&void 0!==t?t:[]}})))&&void 0!==e?e:[]},methods:{addButton:function(){var e=this,t=document.createElement("button");t.innerText="内置监听器",t.setAttribute("type","button"),t.setAttribute("class","el-button el-button--primary el-button--mini"),t.addEventListener("click",(function(){return e.listenerDialogVisible=!0}));var n=document.getElementById("pane-taskListener"),a=n.getElementsByClassName("el-table")[0];n.insertBefore(t,a)},configParam:function(e){this.nowIndex=e;var t=this.formData.taskListener[e];t.params||(t.params=[]),this.showParamDialog=!0},finishConfigParam:function(e){this.showParamDialog=!1;var t=this.formData.taskListener[this.nowIndex];t.params=e,this.$set(this.formData.taskListener[this.nowIndex],this.nowIndex,t),this.nowIndex=null},updateElement:function(){var e,t=this;if(null!==(e=this.formData.taskListener)&&void 0!==e&&e.length){var n,a,i=this.element.businessObject.get("extensionElements");i||(i=this.modeler.get("moddle").create("bpmn:ExtensionElements")),i.values=null!==(n=null===(a=i.values)||void 0===a?void 0:a.filter((function(e){return"flowable:TaskListener"!==e.$type})))&&void 0!==n?n:[],this.formData.taskListener.forEach((function(e){var n=t.modeler.get("moddle").create("flowable:TaskListener");n["event"]=e.event,n[e.type]=e.className,e.params&&e.params.length&&e.params.forEach((function(e){var a=t.modeler.get("moddle").create("flowable:Field");a["name"]=e.name,a[e.type]=e.value,n.get("fields").push(a)})),i.get("values").push(n)})),this.updateProperties({extensionElements:i})}else{var r,s,o=this.element.businessObject["extensionElements"];if(o)o.values=null!==(r=null===(s=o.values)||void 0===s?void 0:s.filter((function(e){return"flowable:TaskListener"!==e.$type})))&&void 0!==r?r:[]}},closeDialog:function(){var e=this;this.$refs.xForm.validate().then((function(){e.updateElement(),e.dialogVisible=!1})).catch((function(e){return console.error(e)}))},addListener:function(e){this.formData.taskListener=this.formData.taskListener.concat(e)}}},H=X,Y=(n("c6b9"),Object(D["a"])(H,Q,J,!1,null,null,null)),Z=Y.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-dialog",{staticClass:"muti-instance",attrs:{title:"多实例配置",visible:e.dialogVisible,width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialogVisible=t},closed:function(t){return e.$emit("close")}}},[n("el-descriptions",{attrs:{column:1,size:"mini",border:""}},[n("el-descriptions-item",{attrs:{label:"使用说明"}},[e._v("按照BPMN2.0规范的要求，用于为每个实例创建执行的父执行，会提供下列变量:")]),n("el-descriptions-item",{attrs:{label:"nrOfInstances"}},[e._v("实例总数。")]),n("el-descriptions-item",{attrs:{label:"nrOfActiveInstances"}},[e._v("当前活动的（即未完成的），实例数量。对于顺序多实例，这个值总为1。")]),n("el-descriptions-item",{attrs:{label:"nrOfCompletedInstances"}},[e._v("已完成的实例数量。")]),n("el-descriptions-item",{attrs:{label:"loopCounter"}},[e._v("给定实例在for-each循环中的index。")])],1),n("div",{staticClass:"app-container"},[n("x-form",{ref:"xForm",attrs:{config:e.formConfig},model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}})],1)],1)],1)},te=[],ne=(n("b64b"),n("e9c4"),n("5530"));function ae(e){var t=Object(ne["a"])(Object(ne["a"])({},e.businessObject),e.businessObject.$attrs);return ie(t)}function ie(e){for(var t in e)if(0===t.indexOf("flowable:")){var n=t.replace("flowable:","");e[n]=e[t],delete e[t]}return e=re(e),e}function re(e){if("documentation"in e){var t="";e.documentation.forEach((function(e){t+=e.text})),e.documentation=t}return e}function se(e){return"conditionExpression"in e&&e.conditionExpression&&(e.conditionExpression=e.conditionExpression.body),e}function oe(e){for(var t in e){var n;if("candidateUsers"===t)e.userType="candidateUsers",e[t]=(null===(n=e[t])||void 0===n?void 0:n.split(","))||[];else if("candidateGroups"===t){var a;e.userType="candidateGroups",e[t]=(null===(a=e[t])||void 0===a?void 0:a.split(","))||[]}else"assignee"===t&&(e.userType="assignee")}return e}var le={mixins:[y],data:function(){return{dialogVisible:!0,formData:{},prefix:"flowable:"}},computed:{formConfig:function(){var e=this;return{inline:!1,item:[{xType:"input",name:"collection",label:"集合",tooltip:"collection: 属性会作为表达式进行解析。如果表达式解析为字符串而不是一个集合，<br />不论是因为本身配置的就是静态字符串值，还是表达式计算结果为字符串，<br />这个字符串都会被当做变量名，并从流程变量中用于获取实际的集合。"},{xType:"input",name:"elementVariable",label:"元素变量",tooltip:"elementVariable: 每创建一个用户任务前，先以该元素变量为label，集合中的一项为value，<br />创建（局部）流程变量，该局部流程变量被用于指派用户任务。<br />一般来说，该字符串应与指定人员变量相同。"},{xType:"select",name:"isSequential",label:"执行方式",tooltip:"并行会签（parallel）、串行会签(sequential)，其中并行会签的意思是 多个人同时执行任务。串行会签是按顺序执行任务。",dic:[{label:"串行",value:!0},{label:"并行",value:!1}]},{xType:"input",name:"completionCondition",label:"完成条件",tooltip:"completionCondition: 多实例活动在所有实例都完成时结束，然而也可以指定一个表达式，在每个实例<br />结束时进行计算。当表达式计算为true时，将销毁所有剩余的实例，并结束多实例<br />活动，继续执行流程。例如 ${nrOfCompletedInstances/nrOfInstances >= 0.6 }，<br />表示当任务完成60%时，该节点就算完成"}],operate:[{text:"确定",show:!0,click:e.save},{text:"清空",show:!0,click:function(){e.formData={}}}]}}},mounted:function(){var e,t,n=JSON.parse(JSON.stringify(null!==(e=this.element.businessObject.loopCharacteristics)&&void 0!==e?e:{}));n.completionCondition=null===(t=n.completionCondition)||void 0===t?void 0:t.body,this.element.businessObject.loopCharacteristics&&Object.assign(n,this.element.businessObject.loopCharacteristics.$attrs),this.formData=ie(n)},methods:{updateElement:function(){if(null!==this.formData.isSequential&&void 0!==this.formData.isSequential){var e=this.element.businessObject.get("loopCharacteristics");e||(e=this.modeler.get("moddle").create("bpmn:MultiInstanceLoopCharacteristics")),e["isSequential"]=this.formData.isSequential,e["collection"]=this.formData.collection,e["elementVariable"]=this.formData.elementVariable,e.$attrs["isSequential"]=this.formData.isSequential,e.$attrs[this.prefix+"collection"]=this.formData.collection,e.$attrs[this.prefix+"elementVariable"]=this.formData.elementVariable,this.formData.completionCondition&&(e["completionCondition"]=this.modeler.get("moddle").create("bpmn:Expression",{body:this.formData.completionCondition})),this.updateProperties({loopCharacteristics:e})}else delete this.element.businessObject.loopCharacteristics},save:function(){var e=this;this.$refs["xForm"].validate().then((function(){e.updateElement(),e.dialogVisible=!1})).catch((function(e){return console.error(e)}))}}},ce=le,ue=(n("ccd6"),Object(D["a"])(ce,ee,te,!1,null,null,null)),pe=ue.exports,me=n("1a8c"),de=n("43f5"),fe=n("a686"),be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[n("el-form-item",{attrs:{label:"名称",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入表达式名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),n("el-form-item",{attrs:{label:"状态",prop:"status"}},[n("el-select",{attrs:{placeholder:"请选择状态",clearable:""},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.dict.type.sys_common_status,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),n("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.expressionList,"row-key":"id"},on:{"current-change":e.handleSingleExpSelect}},[n("el-table-column",{attrs:{width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-radio",{attrs:{label:t.row.id},model:{value:e.radioSelected,callback:function(t){e.radioSelected=t},expression:"radioSelected"}},[e._v(e._s(""))])]}}])}),n("el-table-column",{attrs:{label:"主键",align:"center",prop:"id"}}),n("el-table-column",{attrs:{label:"名称",align:"center",prop:"name"}}),n("el-table-column",{attrs:{label:"表达式内容",align:"center",prop:"expression"}}),n("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,"page-sizes":[5,10],page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)},he=[],ge=n("06a1"),_e={name:"Expression",dicts:["sys_common_status"],props:{selectValues:{type:Number|String,default:null,required:!1}},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,expressionList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,name:null,expression:null,status:null},radioSelected:null}},watch:{selectValues:{handler:function(e){me["a"].isNotBlank(e)&&(this.radioSelected=e)},immediate:!0}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(ge["d"])(this.queryParams).then((function(t){e.expressionList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSingleExpSelect:function(e){this.radioSelected=e.id,this.$emit("handleSingleExpSelect",e)}}},ve=_e,ye=Object(D["a"])(ve,be,he,!1,null,null,null),xe=ye.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.filter,size:"small",inline:!0}},[n("el-form-item",{attrs:{label:"组织名称",prop:"roleName"}},[n("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入角色名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),n("el-table",{directives:[{name:"show",rawName:"v-show",value:"multiple"===e.checkType,expression:"checkType === 'multiple'"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"dataTable",attrs:{data:e.roleList},on:{"selection-change":e.handleMultipleRoleSelect}},[n("el-table-column",{attrs:{type:"selection",align:"center"}}),n("el-table-column",{attrs:{label:"组织名称",prop:"name"}})],1),n("el-table",{directives:[{name:"show",rawName:"v-show",value:"single"===e.checkType,expression:"checkType === 'single'"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.roleList},on:{"current-change":e.handleSingleRoleSelect}},[n("el-table-column",{attrs:{width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-radio",{attrs:{label:t.row.id},model:{value:e.radioSelected,callback:function(t){e.radioSelected=t},expression:"radioSelected"}},[e._v(e._s(""))])]}}])}),n("el-table-column",{attrs:{type:"selection",align:"center"}}),n("el-table-column",{attrs:{label:"name",prop:"firstName"}})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,"page-sizes":[5,10],page:e.start,limit:e.size},on:{"update:page":function(t){e.start=t},"update:limit":function(t){e.size=t},pagination:e.getList}})],1)},Ee=[],ke=(n("25f0"),n("3528"),n("ed45")),Se=(n("a6dc"),{name:"FlowRole",dicts:[],props:{selectValues:{type:Number|String|Array,default:null,required:!1},checkType:{type:String,default:"multiple",required:!1}},data:function(){return{loading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,start:0,size:10,roleList:[],title:"",open:!1,filter:"",form:{},radioSelected:null,selectRoleList:[]}},watch:{selectValues:{handler:function(e){me["a"].isNotBlank(e)&&(e instanceof Number||e instanceof String?this.radioSelected=e:this.selectRoleList=e)},immediate:!0},roleList:{handler:function(e){var t=this;me["a"].isNotBlank(e)&&this.selectRoleList.length>0&&this.$nextTick((function(){var n;t.$refs.dataTable.clearSelection(),null===(n=t.selectRoleList)||void 0===n||n.split(",").forEach((function(n){t.$refs.dataTable.toggleRowSelection(e.find((function(e){return n==e.roleId})),!0)}))}))},immediate:!0,deep:!0}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(ke["c"])(this.filter).then((function(t){e.roleList=t.data,e.total=t.total,e.start=t.start,e.size=t.size,e.loading=!1}))},handleMultipleRoleSelect:function(e){var t=e.map((function(e){return e.roleId})),n=e.map((function(e){return e.roleName}));this.$emit("handleRoleSelect",t.join(","),n.join(","))},handleSingleRoleSelect:function(e){this.radioSelected=e.roleId;var t=e.roleName;this.$emit("handleRoleSelect",this.radioSelected.toString(),t)},handleQuery:function(){this.getList()}}}),Le=Se,Te=Object(D["a"])(Le,we,Ee,!1,null,null,null),De=Te.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.filter,size:"small",inline:!0}},[n("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[n("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入角色名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),n("el-table",{directives:[{name:"show",rawName:"v-show",value:"multiple"===e.checkType,expression:"checkType === 'multiple'"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"dataTable",attrs:{data:e.roleList},on:{"selection-change":e.handleMultipleRoleSelect}},[n("el-table-column",{attrs:{type:"selection",align:"center"}}),n("el-table-column",{attrs:{label:"角色名称",prop:"firstName"}}),n("el-table-column",{attrs:{label:"全名",prop:"fullName","show-overflow-tooltip":!0}})],1),n("el-table",{directives:[{name:"show",rawName:"v-show",value:"single"===e.checkType,expression:"checkType === 'single'"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.roleList},on:{"current-change":e.handleSingleRoleSelect}},[n("el-table-column",{attrs:{width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-radio",{attrs:{label:t.row.id},model:{value:e.radioSelected,callback:function(t){e.radioSelected=t},expression:"radioSelected"}},[e._v(e._s(""))])]}}])}),n("el-table-column",{attrs:{label:"角色名称",prop:"firstName"}}),n("el-table-column",{attrs:{label:"全名",prop:"fullName","show-overflow-tooltip":!0}})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,"page-sizes":[5,10],page:e.start,limit:e.size},on:{"update:page":function(t){e.start=t},"update:limit":function(t){e.size=t},pagination:e.getList}})],1)},Pe=[],Oe={name:"FlowRole",dicts:[],props:{selectValues:{type:Number|String|Array,default:null,required:!1},checkType:{type:String,default:"multiple",required:!1}},data:function(){return{loading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,start:0,size:10,roleList:[],title:"",open:!1,filter:"",form:{},radioSelected:null,selectRoleList:[]}},watch:{selectValues:{handler:function(e){me["a"].isNotBlank(e)&&(e instanceof Number||e instanceof String?this.radioSelected=e:this.selectRoleList=e)},immediate:!0},roleList:{handler:function(e){var t=this;me["a"].isNotBlank(e)&&this.selectRoleList.length>0&&this.$nextTick((function(){var n;t.$refs.dataTable.clearSelection(),null===(n=t.selectRoleList)||void 0===n||n.split(",").forEach((function(n){t.$refs.dataTable.toggleRowSelection(e.find((function(e){return n==e.roleId})),!0)}))}))},immediate:!0,deep:!0}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(ke["d"])(this.filter).then((function(t){e.roleList=t.data,e.total=t.total,e.start=t.start,e.size=t.size,e.loading=!1}))},handleMultipleRoleSelect:function(e){console.log(e);var t=e.map((function(e){return e.id})),n=e.map((function(e){return e.fullName}));this.$emit("handleUserSelect",t.join(","),n.join(","))},handleSingleRoleSelect:function(e){this.radioSelected=e.id;var t=e.fullName;this.$emit("handleUserSelect",this.radioSelected.toString(),t)},handleQuery:function(){this.getList()}}},Ae=Oe,je=Object(D["a"])(Ae,Ce,Pe,!1,null,null,null),Ie=je.exports,Ne=(n("3ab9"),{components:{executionListenerDialog:W,taskListenerDialog:Z,multiInstanceDialog:pe,FlowUser:de["a"],FlowRole:fe["a"],FlowExp:xe,EditorGroups:De,EditorUsers:Ie},mixins:[y],props:{users:{type:Array,required:!0},groups:{type:Array,required:!0},exps:{type:Array,required:!0}},data:function(){return{userTypeOption:[{label:"分配给流程发起人",value:"promoter"},{label:"分配给单个用户",value:"assignee"},{label:"候选用户",value:"candidateUsers"},{label:"候选组",value:"candidateGroups"}],dialogName:"",executionListenerLength:0,taskListenerLength:0,hasMultiInstance:!1,userVisible:!1,roleVisible:!1,expVisible:!1,oneVisible:!1,twoVisible:!1,formData:{},assignee:null,candidateUsers:null,candidateGroups:null,checkType:"single",checkValues:null,selectValues:null,userList:this.users,groupList:this.groups,expList:this.exps,expType:null,formList:[]}},computed:{formConfig:function(){var e=this;return{inline:!1,item:[{xType:"input",name:"id",label:"节点 id",rules:[{required:!0,message:"Id 不能为空"}]},{xType:"input",name:"name",label:"节点名称",rules:[{required:!0,message:"节点名称不能为空"}]},{xType:"input",name:"documentation",label:"节点描述"},{xType:"slot",name:"executionListener",label:"执行监听器"},{xType:"slot",name:"taskListener",label:"任务监听器",show:!!e.showConfig.taskListener},{xType:"select",name:"userType",label:"用户类型",dic:e.userTypeOption,show:!!e.showConfig.userType},{xType:"slot",name:"checkSingleUser",label:"分配给单个用户",show:!!e.showConfig.assignee&&"assignee"===e.formData.userType},{xType:"slot",name:"checkMultipleUser",label:"候选用户",show:!!e.showConfig.candidateUsers&&"candidateUsers"===e.formData.userType},{xType:"slot",name:"checkRole",label:"候选组",show:!!e.showConfig.candidateGroups&&"candidateGroups"===e.formData.userType},{xType:"switch",name:"async",label:"异步",activeText:"是",inactiveText:"否",show:!!e.showConfig.async}]}}},watch:{"formData.userType":function(e,t){me["a"].isNotBlank(t)&&(delete this.element.businessObject.$attrs["flowable:".concat(t)],delete this.formData[t],this.checkValues="",this.selectValues=null,delete this.element.businessObject.$attrs["flowable:dataType"]),this.updateProperties({"flowable:userType":e})},"formData.async":function(e){me["a"].isNotBlank(e)&&this.updateProperties({"flowable:async":e})}},created:function(){var e=ae(this.element);e=oe(e),this.formData=e,this.computedExecutionListenerLength(),this.computedTaskListenerLength(),this.computedHasMultiInstance(),this.checkValuesEcho(),this.getListForm()},methods:{computedExecutionListenerLength:function(){var e,t,n;this.executionListenerLength=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.filter((function(e){return"flowable:ExecutionListener"===e.$type})).length)&&void 0!==e?e:0},computedTaskListenerLength:function(){var e,t,n;this.taskListenerLength=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.filter((function(e){return"flowable:TaskListener"===e.$type})).length)&&void 0!==e?e:0},computedHasMultiInstance:function(){this.element.businessObject.loopCharacteristics?this.hasMultiInstance=!0:this.hasMultiInstance=!1},getListForm:function(){},checkValuesEcho:function(){var e=this,t=e.element.businessObject.$attrs,n=e.element.businessObject;if(console.log(e.element.businessObject,"this.element.businessObject"),t.hasOwnProperty("flowable:assignee")){var a=t["flowable:assignee"];"dynamic"===t["flowable:dataType"]?(this.checkValues=e.expList.find((function(e){return e.expression==a})).name,this.selectValues=e.expList.find((function(e){return e.expression==a})).id):(this.checkValues=e.userList.find((function(e){return e.userId==a})).nickName,this.selectValues=e.userList.find((function(e){return e.userId==a})).userId)}else if(t.hasOwnProperty("flowable:candidateUsers")){var i=t["flowable:candidateUsers"];if("dynamic"===t["flowable:dataType"])this.checkValues=e.expList.find((function(e){return e.expression==i})).name,this.selectValues=e.expList.find((function(e){return e.expression==i})).id;else{var r=e.userList.filter((function(e){return i.split(",").includes(e.userId)}));this.checkValues=r.map((function(e){return e.nickName})).join(","),this.selectValues=r.map((function(e){return e.userId})).join(",")}}else if(n.hasOwnProperty("candidateGroups")||t.hasOwnProperty("flowable:candidateGroups")){var s=n["candidateGroups"]||t["flowable:candidateGroups"];if("dynamic"===t["flowable:dataType"])this.checkValues=e.expList.find((function(e){return e.expression==s})).name,this.selectValues=e.expList.find((function(e){return e.expression==s})).id;else{var o=e.groupList.filter((function(e){return s.split(",").includes(e.roleId)}));this.checkValues=o.map((function(e){return e.roleName})).join(","),this.selectValues=o.map((function(e){return e.roleId})).join(",")}}},finishExecutionListener:function(){"executionListenerDialog"===this.dialogName&&this.computedExecutionListenerLength(),this.dialogName=""},finishTaskListener:function(){"taskListenerDialog"===this.dialogName&&this.computedTaskListenerLength(),this.dialogName=""},finishMultiInstance:function(){"multiInstanceDialog"===this.dialogName&&this.computedHasMultiInstance(),this.dialogName=""},singleUserCheck:function(){this.userVisible=!0,this.checkType="single"},multipleUserCheck:function(){this.userVisible=!0,this.checkType="multiple"},singleRoleCheck:function(){this.roleVisible=!0,this.checkType="single"},multipleGroupsCheck:function(){this.roleVisible=!0,this.checkType="multiple"},singleExpCheck:function(e){this.expVisible=!0,this.expType=e},handleSingleExpSelect:function(e){this.deleteFlowAttar(),this.updateProperties({"flowable:dataType":"dynamic"}),"assignee"===this.expType?this.updateProperties({"flowable:assignee":e.expression}):"candidateUsers"===this.expType?this.updateProperties({"flowable:candidateUsers":e.expression}):"candidateGroups"===this.expType&&this.updateProperties({"flowable:candidateGroups":e.expression}),this.checkValues=e.name,this.expType=null},handleUserSelect:function(e,t){var n=this;e&&t&&(n.deleteFlowAttar(),n.updateProperties({"flowable:dataType":"fixed"}),n.updateProperties({"flowable:candidateGroups":e}),n.checkValues=t)},handleGroupsSelect:function(e,t){var n=this;e&&t&&(n.deleteFlowAttar(),n.updateProperties({"flowable:dataType":"fixed"}),n.updateProperties({"flowable:candidateGroups":e}),n.checkValues=t)},checkUserComplete:function(){this.userVisible=!1,this.checkType=""},checkRoleComplete:function(){this.roleVisible=!1,this.checkType=""},checkExpComplete:function(){this.expVisible=!1},deleteFlowAttar:function(){delete this.element.businessObject.$attrs["flowable:dataType"],delete this.element.businessObject.$attrs["flowable:assignee"],delete this.element.businessObject.$attrs["flowable:candidateUsers"],delete this.element.businessObject.$attrs["flowable:candidateGroups"],delete this.element.businessObject.$attrs["flowable:one"],delete this.element.businessObject.$attrs["flowable:two"]}}}),Me=Ne,qe=Object(D["a"])(Me,f,b,!1,null,null,null),Ve=qe.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("x-form",{ref:"xForm",attrs:{config:e.formConfig},scopedSlots:e._u([{key:"executionListener",fn:function(){return[n("el-badge",{attrs:{value:e.executionListenerLength}},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogName="executionListenerDialog"}}},[e._v("编辑")])],1)]},proxy:!0}]),model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),"executionListenerDialog"===e.dialogName?n("executionListenerDialog",{attrs:{element:e.element,modeler:e.modeler},on:{close:e.finishExecutionListener}}):e._e()],1)},Re=[],$e={components:{executionListenerDialog:W},data:function(){return{executionListenerLength:0,dialogName:null}},methods:{computedExecutionListenerLength:function(){var e,t,n;this.executionListenerLength=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.length)&&void 0!==e?e:0},finishExecutionListener:function(){"executionListenerDialog"===this.dialogName&&this.computedExecutionListenerLength(),this.dialogName=""}}},Fe={mixins:[y,$e],data:function(){return{formData:{},executionListenerLength:0}},computed:{formConfig:function(){return{inline:!1,item:[{xType:"input",name:"id",label:"节点 id",rules:[{required:!0,message:"Id 不能为空"}]},{xType:"input",name:"name",label:"节点名称"},{xType:"input",name:"documentation",label:"节点描述"},{xType:"slot",name:"executionListener",label:"执行监听器"}]}}},watch:{"formData.initiator":function(e){""===e&&(e=null),this.updateProperties({"flowable:initiator":e})},"formData.formKey":function(e){""===e&&(e=null),this.updateProperties({"flowable:formKey":e})}},created:function(){this.formData=ae(this.element),this.computedExecutionListenerLength()},methods:{computedExecutionListenerLength:function(){var e,t,n;this.executionListenerLength=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.filter((function(e){return"flowable:ExecutionListener"===e.$type})).length)&&void 0!==e?e:0}}},Ue=Fe,ze=Object(D["a"])(Ue,Be,Re,!1,null,null,null),Ge=ze.exports,Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("x-form",{ref:"xForm",attrs:{config:e.formConfig},scopedSlots:e._u([{key:"iconPath",fn:function(){return[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogName="iconDialog"}}},[e._v("选择")]),e.icon?n("i",{class:e.icon+" icon_style",staticStyle:{"font-size":"20px"}}):e._e()]},proxy:!0},{key:"iconColor",fn:function(){return[n("el-color-picker",{model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})]},proxy:!0}]),model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),"executionListenerDialog"===e.dialogName?n("executionListenerDialog",{attrs:{element:e.element,modeler:e.modeler},on:{close:e.finishExecutionListener}}):e._e(),"signalDialog"===e.dialogName?n("signalDialog",{attrs:{element:e.element,modeler:e.modeler},on:{close:e.finishExecutionListener}}):e._e(),"iconDialog"===e.dialogName?n("iconDialog",{attrs:{element:e.element,modeler:e.modeler},on:{getIcon:function(t){return e.setIcon(t)},close:e.finishExecutionListener}}):e._e()],1)},We=[],Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-dialog",{attrs:{title:"信号定义",visible:e.dialogVisible,width:"700px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.dialogVisible=t},closed:function(t){return e.$emit("close")}}},[n("x-form",{ref:"xForm",attrs:{config:e.formConfig},model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.closeDialog}},[e._v("确 定")])],1)],1)],1)},Je=[],Xe={mixins:[y],data:function(){return{dialogVisible:!0,formData:{signal:[]}}},computed:{formConfig:function(){return{inline:!1,item:[{xType:"tabs",tabs:[{label:"信号定义",name:"signal",column:[{label:"scope",name:"scope",width:180,rules:[{required:!0,message:"请选择",trigger:["blur","change"]}],xType:"select",dic:[{label:"全局",value:"start"},{label:"流程实例",value:"end"}]},{label:"id",name:"id",width:200,rules:[{required:!0,message:"请输入",trigger:["blur","change"]}],xType:"input"},{label:"名称",name:"name",xType:"input",rules:[{required:!0,message:"请输入",trigger:["blur","change"]}]}]}]}]}}},mounted:function(){var e,t;this.formData.signal=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t?void 0:t.values.filter((function(e){return"bpmn:Signal"===e.$type})).map((function(e){return{scope:e.scope,id:e.id,name:e.name}})))&&void 0!==e?e:[]},methods:{updateElement:function(){var e,t=this;if(null!==(e=this.formData.signal)&&void 0!==e&&e.length){var n,a,i=this.element.businessObject.get("extensionElements");i||(i=this.modeler.get("moddle").create("bpmn:ExtensionElements")),i.values=null!==(n=null===(a=i.values)||void 0===a?void 0:a.filter((function(e){return"bpmn:Signal"!==e.$type})))&&void 0!==n?n:[],this.formData.signal.forEach((function(e){var n=t.modeler.get("moddle").create("bpmn:Signal");n["scope"]=e.scope,n["id"]=e.id,n["name"]=e.name,i.get("values").push(n)})),this.updateProperties({extensionElements:i})}else{var r,s,o=this.element.businessObject["extensionElements"];if(o)o.values=null!==(r=null===(s=o.values)||void 0===s?void 0:s.filter((function(e){return"bpmn:Signal"!==e.$type})))&&void 0!==r?r:[]}},closeDialog:function(){var e=this;this.$refs.xForm.validate().then((function(){e.updateElement(),e.dialogVisible=!1})).catch((function(e){return console.error(e)}))}}},He=Xe,Ye=(n("520f"),Object(D["a"])(He,Qe,Je,!1,null,null,null)),Ze=Ye.exports,et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-dialog",{attrs:{title:"图标选择",visible:e.dialogVisible,width:"700px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.dialogVisible=t},closed:function(t){return e.$emit("close")}}},[n("icon-picker",{model:{value:e.icon,callback:function(t){e.icon=t},expression:"icon"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.closeDialog}},[e._v("确 定")])],1)],1)],1)},tt=[],nt={mixins:[y],data:function(){return{dialogVisible:!0,icon:""}},methods:{closeDialog:function(){this.dialogVisible=!1,this.$emit("getIcon",this.icon)}}},at=nt,it=(n("ae90"),Object(D["a"])(at,et,tt,!1,null,null,null)),rt=it.exports,st={components:{signalDialog:Ze,iconDialog:rt},mixins:[y,$e],data:function(){return{signalLength:0,formData:{},icon:"",color:"",modelForms:[]}},computed:{formConfig:function(){var e=this;return{inline:!1,item:[{xType:"select",name:"processClassId",label:"流程分类",dic:{data:e.categorys,label:"className",value:"id"}},{xType:"input",name:"id",label:"流程标识key",rules:[{required:!0,message:"Id 不能为空"}]},{xType:"input",name:"name",label:"流程名称"},{xType:"input",name:"orderNumber",label:"排序号"},{xType:"slot",name:"iconPath",label:"流程图标"},{xType:"slot",name:"iconColor",label:"图标颜色"},{xType:"select",name:"processType",label:"流程类型",dic:{data:[{label:"固定流程",value:"固定流程"}],label:"label",value:"value"}},{xType:"select",name:"delegateFlag",label:"委托设置",dic:{data:[{label:"不允许委托",value:0},{label:"允许委托",value:1}],label:"label",value:"value"}},{xType:"select",name:"formClass",label:"表单分类",dic:{data:e.formCategorys,label:"className",value:"id"}},{xType:"select",name:"modelForm",label:"表单",dic:{data:e.modelForms,label:"formName",value:"id"}},{xType:"select",name:"attachmentFlag",label:"流程附件",dic:{data:[{label:"开启",value:0},{label:"关闭",value:1}],label:"label",value:"value"}},{xType:"input",name:"description",label:"描述"}]}}},watch:{"formData.processClassId":function(e){""===e&&(e=null),this.updateProperties({"flowable:processClassId":e})},"formData.orderNumber":function(e){""===e&&(e=null),this.updateProperties({"flowable:orderNumber":e})},icon:function(e){""===e&&(e=null),this.updateProperties({"flowable:iconPath":e})},color:function(e){""===e&&(e=null),this.updateProperties({"flowable:iconColor":e})},"formData.processType":function(e){""===e&&(e=null),this.updateProperties({"flowable:processType":e})},"formData.delegateFlag":function(e){""===e&&(e=null),this.updateProperties({"flowable:delegateFlag":e})},"formData.formClass":function(e){var t=this;""===e&&(e=null),this.updateProperties({"flowable:formClass":e}),console.log("表单分类",e),Object(ke["f"])({entity:{formClassId:e},pager:{current:1,size:-1}}).then((function(e){t.modelForms=e.obj.records}))},"formData.modelForm":function(e){""===e&&(e=null),this.updateProperties({"flowable:modelForm":e})},"formData.attachmentFlag":function(e){""===e&&(e=null),this.updateProperties({"flowable:attachmentFlag":e})},"formData.description":function(e){""===e&&(e=null),this.updateProperties({"flowable:attachmentFlag":e})}},created:function(){this.formData=ae(this.element)},methods:{setIcon:function(e){console.log("====================================value",e),this.icon=e},computedSignalLength:function(){var e,t,n;this.signalLength=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.length)&&void 0!==e?e:0},finishSignal:function(){"signalDialog"===this.dialogName&&this.computedSignalLength(),this.dialogName=""}}},ot=st,lt=(n("392d"),Object(D["a"])(ot,Ke,We,!1,null,null,null)),ct=lt.exports,ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("x-form",{ref:"xForm",attrs:{config:e.formConfig},scopedSlots:e._u([{key:"executionListener",fn:function(){return[n("el-badge",{attrs:{value:e.executionListenerLength}},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogName="executionListenerDialog"}}},[e._v("编辑")])],1)]},proxy:!0}]),model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),"executionListenerDialog"===e.dialogName?n("executionListenerDialog",{attrs:{element:e.element,modeler:e.modeler},on:{close:e.finishExecutionListener}}):e._e()],1)},pt=[],mt={mixins:[y,$e],data:function(){return{formData:{},executionListenerLength:0}},computed:{formConfig:function(){return{inline:!1,item:[{xType:"input",name:"id",label:"节点 id",rules:[{required:!0,message:"Id 不能为空"}]},{xType:"input",name:"name",label:"节点名称"},{xType:"input",name:"documentation",label:"节点描述"},{xType:"slot",name:"executionListener",label:"执行监听器"},{xType:"input",name:"conditionExpression",label:"跳转条件"},{xType:"input",name:"skipExpression",label:"跳过表达式"}]}}},watch:{"formData.conditionExpression":function(e){if(me["a"].isNotBlank(e)){var t=this.modeler.get("moddle").create("bpmn:FormalExpression",{body:e});this.updateProperties({conditionExpression:t})}},"formData.skipExpression":function(e){me["a"].isNotBlank(e)?this.updateProperties({"flowable:skipExpression":e}):delete this.element.businessObject.$attrs["flowable:skipExpression"]}},created:function(){var e=ae(this.element);e=se(e),this.formData=e,this.computedExecutionListenerLength()},methods:{computedExecutionListenerLength:function(){var e,t,n;this.executionListenerLength=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.filter((function(e){return"flowable:ExecutionListener"===e.$type})).length)&&void 0!==e?e:0}}},dt=mt,ft=Object(D["a"])(dt,ut,pt,!1,null,null,null),bt=ft.exports,ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("x-form",{ref:"xForm",attrs:{config:e.formConfig},scopedSlots:e._u([{key:"executionListener",fn:function(){return[n("el-badge",{attrs:{value:e.executionListenerLength}},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogName="executionListenerDialog"}}},[e._v("编辑")])],1)]},proxy:!0}]),model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),"executionListenerDialog"===e.dialogName?n("executionListenerDialog",{attrs:{element:e.element,modeler:e.modeler},on:{close:e.finishExecutionListener}}):e._e()],1)},gt=[],_t={mixins:[y,$e],data:function(){return{formData:{}}},computed:{formConfig:function(){return{inline:!1,item:[{xType:"input",name:"id",label:"节点 id",rules:[{required:!0,message:"Id 不能为空"}]},{xType:"input",name:"name",label:"节点名称"},{xType:"input",name:"documentation",label:"节点描述"},{xType:"slot",name:"executionListener",label:"执行监听器"},{xType:"switch",name:"async",label:"异步",activeText:"是",inactiveText:"否"}]}}},watch:{"formData.async":function(e){""===e&&(e=null),this.updateProperties({"flowable:async":e})}},created:function(){this.formData=ae(this.element)}},vt=_t,yt=Object(D["a"])(vt,ht,gt,!1,null,null,null),xt=yt.exports,wt={name:"PropertyPanel",components:{processPanel:ct,taskPanel:Ve,startEndPanel:Ge,sequenceFlowPanel:bt,gatewayPanel:xt},props:{users:{type:Array,required:!0},groups:{type:Array,required:!0},categorys:{type:Array,required:!0},formCategorys:{type:Array,required:!0},exps:{type:Array,default:function(){return[]}},modeler:{type:Object,required:!0}},data:function(){return{element:null,form:{id:"",name:"",color:null}}},computed:{getComponent:function(){var e,t=null===(e=this.element)||void 0===e?void 0:e.type;return["bpmn:IntermediateThrowEvent","bpmn:StartEvent","bpmn:EndEvent"].includes(t)?"startEndPanel":["bpmn:UserTask","bpmn:Task","bpmn:SendTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:BusinessRuleTask","bpmn:ServiceTask","bpmn:ScriptTask"].includes(t)?"taskPanel":"bpmn:SequenceFlow"===t?"sequenceFlowPanel":["bpmn:InclusiveGateway","bpmn:ExclusiveGateway","bpmn:ParallelGateway","bpmn:EventBasedGateway"].includes(t)?"gatewayPanel":"bpmn:Process"===t?"processPanel":null},nodeName:function(){if(this.element){var e=this.element.businessObject,t=null!==e&&void 0!==e&&e.eventDefinitions?e.eventDefinitions[0].$type:e.$type;return l[t]||t}return""}},mounted:function(){this.handleModeler()},methods:{handleModeler:function(){var e=this;this.modeler.on("root.added",(function(t){"bpmn:Process"===t.element.type&&(e.element=null,e.$nextTick().then((function(){e.element=t.element})))})),this.modeler.on("element.click",(function(t){var n=t.element;"bpmn:Process"!==n.type&&"bpmn:SequenceFlow"!==n.type&&"bpmn:EndEvent"!==n.type||(e.element=n)})),this.modeler.on("selection.changed",(function(t){e.element=null;var n=t.newSelection[0];n&&e.$nextTick().then((function(){e.element=n}))}))}}},Et=wt,kt=(n("2c07"),Object(D["a"])(Et,m,d,!1,null,null,null)),St=kt.exports;n("fb6a");function Lt(){return Math.random().toString(36).slice(-8)}var Tt=function(){return'<?xml version="1.0" encoding="UTF-8"?>\n    <definitions\n      xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"\n      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n      xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"\n      xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC"\n      xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0"\n      xmlns:xsd="http://www.w3.org/2001/XMLSchema"\n      xmlns:flowable="http://flowable.org/bpmn"\n      targetNamespace="http://www.flowable.org/processdef"\n      >\n      <process id="flow_'.concat(Lt(),'" name="flow_').concat(Lt(),'">\n        <startEvent id="start_event" name="开始" />\n      </process>\n      <bpmndi:BPMNDiagram id="BPMNDiagram_flow">\n        <bpmndi:BPMNPlane id="BPMNPlane_flow" bpmnElement="T-2d89e7a3-ba79-4abd-9f64-ea59621c258c">\n          <bpmndi:BPMNShape id="BPMNShape_start_event" bpmnElement="start_event" bioc:stroke="">\n            <omgdc:Bounds x="240" y="200" width="30" height="30" />\n            <bpmndi:BPMNLabel>\n              <omgdc:Bounds x="242" y="237" width="23" height="14" />\n            </bpmndi:BPMNLabel>\n          </bpmndi:BPMNShape>\n        </bpmndi:BPMNPlane>\n      </bpmndi:BPMNDiagram>\n    </definitions>\n    ')},Dt=n("2730"),Ct=n("87f2"),Pt=n("7a6b"),Ot=n("dbc8"),At=n("cf0a"),jt=n("78f9");function It(e,t,n,a,i,r,s,o,l,c,u,p){e=e||{},a.registerProvider(this),this._contextPad=a,this._modeling=i,this._elementFactory=r,this._connect=s,this._create=o,this._popupMenu=l,this._canvas=c,this._rules=u,this._translate=p,!1!==e.autoPlace&&(this._autoPlace=t.get("autoPlace",!1)),n.on("create.end",250,(function(e){var t=e.context,n=t.shape;if(Object(jt["a"])(e)&&a.isOpen(n)){var i=a.getEntries(n);i.replace&&i.replace.action.click(e,n)}}))}function Nt(e,t,n){var a=e.$instanceOf(t),i=!1,r=e.eventDefinitions||[];return Object(Ct["i"])(r,(function(e){e.$type===n&&(i=!0)})),a&&i}function Mt(e,t){return-1!==e.indexOf(t)}function qt(e,t,n,a,i,r,s,o){this.create=t,this.elementFactory=n,this.handTool=a,this.lassoTool=i,this.spaceTool=r,this.globalConnect=s,this.translate=o,e.registerProvider(this)}It.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate"],It.prototype.getMultiElementContextPadEntries=function(e){var t=this._modeling,n={};return this._isDeleteAllowed(e)&&Object(Ct["a"])(n,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Remove"),action:{click:function(e,n){t.removeElements(n.slice())}}}}),n},It.prototype._isDeleteAllowed=function(e){var t=this._rules.allowed("elements.delete",{elements:e});return Object(Ct["l"])(t)?Object(Ct["d"])(t,(function(e){return Mt(t,e)})):t},It.prototype.getContextPadEntries=function(e){var t=this._contextPad,n=this._modeling,a=this._elementFactory,i=this._connect,r=this._create,s=this._popupMenu,o=this._rules,l=this._autoPlace,c=this._translate,u={};if("label"===e.type)return u;var p=e.businessObject;function m(e,t){i.start(e,t)}function d(e,t){n.removeElements([t])}function f(e){var n=5,a=t.getPad(e).html,i=a.getBoundingClientRect(),r={x:i.left,y:i.bottom+n};return r}function b(e,t,n,i){function s(t,n){var s=a.createShape(Object(Ct["a"])({type:e},i));r.start(t,s,{source:n})}"string"!==typeof n&&(i=n,n=c("Append {type}",{type:e.replace(/^bpmn:/,"")}));var o=l?function(t,n){var r=a.createShape(Object(Ct["a"])({type:e},i));l.append(n,r)}:s;return{group:"model",className:t,title:n,action:{dragstart:s,click:o}}}function h(e){return function(a,i){n.splitLane(i,e),t.open(i,!0)}}if(Object(Pt["d"])(p,["bpmn:Lane","bpmn:Participant"])&&Object(Ot["f"])(e)){var g=Object(At["d"])(e);Object(Ct["a"])(u,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:c("Add Lane above"),action:{click:function(e,t){n.addLane(t,"top")}}}}),g.length<2&&(e.height>=120&&Object(Ct["a"])(u,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:c("Divide into two Lanes"),action:{click:h(2)}}}),e.height>=180&&Object(Ct["a"])(u,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:c("Divide into three Lanes"),action:{click:h(3)}}})),Object(Ct["a"])(u,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:c("Add Lane below"),action:{click:function(e,t){n.addLane(t,"bottom")}}}})}Object(Pt["c"])(p,"bpmn:FlowNode")&&(Object(Pt["c"])(p,"bpmn:EventBasedGateway")?Object(Ct["a"])(u,{"append.receive-task":b("bpmn:ReceiveTask","bpmn-icon-receive-task",c("Append ReceiveTask")),"append.message-intermediate-event":b("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",c("Append MessageIntermediateCatchEvent"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":b("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",c("Append TimerIntermediateCatchEvent"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":b("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",c("Append ConditionIntermediateCatchEvent"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":b("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",c("Append SignalIntermediateCatchEvent"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):Nt(p,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?Object(Ct["a"])(u,{"append.compensation-activity":b("bpmn:Task","bpmn-icon-task",c("Append compensation activity"),{isForCompensation:!0})}):Object(Pt["c"])(p,"bpmn:EndEvent")||p.isForCompensation||Nt(p,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")||Object(Ot["e"])(p)||Object(Ct["a"])(u,{"append.end-event":b("bpmn:EndEvent","bpmn-icon-end-event-none",c("Append EndEvent")),"append.gateway":b("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",c("Append Gateway")),"append.append-user-task":b("bpmn:UserTask","bpmn-icon-user-task","添加用户任务"),"append.intermediate-event":b("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",c("Append Intermediate/Boundary Event"))})),s.isEmpty(e,"bpmn-replace")||Object(Ct["a"])(u,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:c("Change type"),action:{click:function(e,t){var n=Object(Ct["a"])(f(t),{cursor:{x:e.x,y:e.y}});s.open(t,"bpmn-replace",n,{title:c("Change element"),width:300,search:!0})}}}}),Object(Pt["c"])(p,"bpmn:SequenceFlow")&&Object(Ct["a"])(u,{"append.text-annotation":b("bpmn:TextAnnotation","bpmn-icon-text-annotation")}),Object(Pt["d"])(p,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Object(Ct["a"])(u,{"append.text-annotation":b("bpmn:TextAnnotation","bpmn-icon-text-annotation"),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:c("Connect using "+(p.isForCompensation?"":"Sequence/MessageFlow or ")+"Association"),action:{click:m,dragstart:m}}}),Object(Pt["c"])(p,"bpmn:TextAnnotation")&&Object(Ct["a"])(u,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:c("Connect using Association"),action:{click:m,dragstart:m}}}),Object(Pt["d"])(p,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Object(Ct["a"])(u,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:c("Connect using DataInputAssociation"),action:{click:m,dragstart:m}}}),Object(Pt["c"])(p,"bpmn:Group")&&Object(Ct["a"])(u,{"append.text-annotation":b("bpmn:TextAnnotation","bpmn-icon-text-annotation")});var _=o.allowed("elements.delete",{elements:[e]});return Object(Ct["l"])(_)&&(_=_[0]===e),_&&Object(Ct["a"])(u,{delete:{group:"edit",className:"bpmn-icon-trash",title:c("Remove"),action:{click:d}}}),u},qt.$inject=["palette","create","elementFactory","handTool","lassoTool","spaceTool","globalConnect","translate"],qt.prototype.getPaletteEntries=function(e){var t=this.create,n=this.elementFactory,a=this.handTool,i=this.lassoTool,r=this.spaceTool,s=this.globalConnect,o=this.translate;function l(e,a,i,r,s){function l(a){var i=n.createShape(Object(Ct["a"])({type:e},s));s&&(i.businessObject.di.isExpanded=s.isExpanded),t.start(a,i)}var c=e.replace(/^bpmn:/,"");return{group:a,className:i,title:r||o("Create {type}",{type:c}),action:{dragstart:l,click:l}}}return{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:"激活抓手工具",action:{click:function(e){a.activateHand(e)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:"激活套索工具",action:{click:function(e){i.activateSelection(e)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:o("Activate the create/remove space tool"),action:{click:function(e){r.activateSelection(e)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:o("Activate the global connect tool"),action:{click:function(e){s.start(e)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":l("bpmn:StartEvent","event","bpmn-icon-start-event-none","创建开始节点"),"create.end-event":l("bpmn:EndEvent","event","bpmn-icon-end-event-none","创建结束节点"),"create.user-task":l("bpmn:UserTask","activity","bpmn-icon-user-task","创建用户任务"),"create.exclusive-gateway":l("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-xor","创建排他网关")}};var Vt={__init__:["paletteProvider","contextPadProvider"],paletteProvider:["type",qt],contextPadProvider:["type",It]},Bt=(n("3680"),{name:"WorkflowBpmnModeler",components:{panel:St},props:{xml:{type:String,default:""},users:{type:Array,default:function(){return[]}},groups:{type:Array,default:function(){return[]}},categorys:{type:Array,default:function(){return[]}},formCategorys:{type:Array,default:function(){return[]}},exps:{type:Array,default:function(){return[]}},isView:{type:Boolean,default:!1}},data:function(){return{modeler:null,zoom:1}},watch:{xml:function(e){e&&this.createNewDiagram(e)}},mounted:function(){this.modeler=new p["a"]({container:this.$refs.canvas,additionalModules:[u["a"],Vt,{translate:["value",c]}],moddleExtensions:{flowable:Dt}}),this.xml?this.createNewDiagram(this.xml):this.newDiagram()},methods:{newDiagram:function(){this.createNewDiagram(Tt())},fitViewport:function(){this.zoom=this.modeler.get("canvas").zoom("fit-viewport");var e=document.querySelector(".flow-containers .viewport").getBBox(),t=this.modeler.get("canvas").viewbox(),n={x:e.x+e.width/2-65,y:e.y+e.height/2};this.modeler.get("canvas").viewbox({x:n.x-t.width/2,y:n.y-t.height/2,width:t.width,height:t.height}),this.zoom=e.width/t.width*1.8},zoomViewport:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.zoom=this.modeler.get("canvas").zoom(),this.zoom+=e?.1:-.1,this.modeler.get("canvas").zoom(this.zoom)},createNewDiagram:function(e){var t=this;return Object(s["a"])(Object(r["a"])().mark((function n(){return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e=e.replace(/<!\[CDATA\[(.+?)]]>/g,(function(e,t){return t.replace(/</g,"&lt;")})),n.prev=1,n.next=4,t.modeler.importXML(e);case 4:t.fitViewport(),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](1),console.error(n.t0.message,n.t0.warnings);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))()},getProcess:function(){var e=this.getProcessElement();return{id:e.id,name:e.name,category:e.$attrs["flowable:processCategory"]}},getProcessElement:function(){for(var e=this.modeler.getDefinitions().rootElements,t=0;t<e.length;t++)if("bpmn:Process"===e[t].$type)return e[t]},verifyXML:function(){var e=this;return Object(s["a"])(Object(r["a"])().mark((function t(){var n;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.modeler.get("linting"),n.toggle();case 2:case"end":return t.stop()}}),t)})))()},saveXML:function(){var e=arguments,t=this;return Object(s["a"])(Object(r["a"])().mark((function n(){var a,i,s;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.length>0&&void 0!==e[0]&&e[0],n.prev=1,n.next=4,t.modeler.saveXML({format:!0});case 4:return i=n.sent,s=i.xml,a&&t.downloadFile("".concat(t.getProcessElement().name,".bpmn20.xml"),s,"application/xml"),n.abrupt("return",s);case 10:n.prev=10,n.t0=n["catch"](1),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},showXML:function(){var e=this;return Object(s["a"])(Object(r["a"])().mark((function t(){var n;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.saveXML();case 3:n=t.sent,e.$emit("showXML",n),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},saveImg:function(){var e=arguments,t=this;return Object(s["a"])(Object(r["a"])().mark((function n(){var a,i,s;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.length>0&&void 0!==e[0]?e[0]:"svg",a=e.length>1&&void 0!==e[1]&&e[1],n.prev=2,n.next=5,t.modeler.saveSVG({format:!0});case 5:return i=n.sent,s=i.svg,a&&t.downloadFile(t.getProcessElement().name,s,"image/svg+xml"),n.abrupt("return",s);case 11:n.prev=11,n.t0=n["catch"](2),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[2,11]])})))()},save:function(){var e=this;return Object(s["a"])(Object(r["a"])().mark((function t(){var n,a,i,s,o;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.modeler.getDefinitions().rootElements,a=e.getProcess(),t.next=4,e.saveXML();case 4:return i=t.sent,t.next=7,e.saveImg();case 7:s=t.sent,o={process:a,xml:i,svg:s,nodes:n},e.$emit("save",o),window.parent.postMessage(o,"*");case 11:case"end":return t.stop()}}),t)})))()},openBpmn:function(e){var t=this,n=new FileReader;return n.readAsText(e,"utf-8"),n.onload=function(){t.createNewDiagram(n.result)},!1},downloadFile:function(e,t,n){var a=document.createElement("a"),i=window.URL.createObjectURL(new Blob([t],{type:n}));a.href=i,a.download=e,a.click(),window.URL.revokeObjectURL(i)}}}),Rt=Bt,$t=(n("59a0"),Object(D["a"])(Rt,a,i,!1,null,null,null)),Ft=$t.exports;Ft.install=function(e){return e.component(Ft.name,Ft)};t["a"]=Ft},ae90:function(e,t,n){"use strict";n("b7ef")},b7ef:function(e,t,n){},bf4a:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("99af");var a=n("3fb5"),i=n.n(a),r=n("88eb"),s=n("4010f"),o=n("041f");function l(e){r["a"].call(this,e)}i()(l,r["a"]),l.prototype._modules=[].concat(r["a"].prototype._modules,[s["a"],o["a"]])},c5f1:function(e,t,n){},c6b9:function(e,t,n){"use strict";n("1f643")},ccd6:function(e,t,n){"use strict";n("2d6f")},cea3:function(e,t,n){},e523:function(e,t,n){},ed3b:function(e,t,n){},f50d:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_asus_073_Desktop_yitihuagongzuoliu2023_qianduan_ruoyi_ui_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ade3"),_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2638"),_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("d9e2"),core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("b64b"),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("14d9"),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("e9c4"),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("4de4"),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_10__),_utils_index__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("ed08"),_render_render_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("4758"),ruleTrigger={"el-input":"blur","el-input-number":"blur","el-select":"change","el-radio-group":"change","el-checkbox-group":"change","el-cascader":"change","el-time-picker":"change","el-date-picker":"change","el-rate":"change"},layouts={colFormItem:function(e,t){var n=t.__config__,a=buildListeners.call(this,t),i=n.labelWidth?"".concat(n.labelWidth,"px"):null;return!1===n.showLabel&&(i="0"),e("el-col",{attrs:{span:n.span}},[e("el-form-item",{attrs:{"label-width":i,prop:t.__vModel__,label:n.showLabel?n.label:""}},[e(_render_render_js__WEBPACK_IMPORTED_MODULE_12__["a"],_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1___default()([{attrs:{conf:t}},{on:a}]))])])},rowFormItem:function(e,t){var n=renderChildren.apply(this,arguments);return"flex"===t.type&&(n=e("el-row",{attrs:{type:t.type,justify:t.justify,align:t.align}},[n])),e("el-col",{attrs:{span:t.span}},[e("el-row",{attrs:{gutter:t.gutter}},[n])])}};function renderFrom(e){var t=this.formConfCopy;return e("el-row",{attrs:{gutter:t.gutter}},[e("el-form",_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1___default()([{attrs:{size:t.size,"label-position":t.labelPosition,disabled:t.disabled,"label-width":"".concat(t.labelWidth,"px")},ref:t.formRef},{props:{model:this[t.formModel]}},{attrs:{rules:this[t.formRules]}}]),[renderFormItem.call(this,e,t.fields),t.formBtns&&formBtns.call(this,e)])])}function formBtns(e){return e("el-col",[e("el-form-item",{attrs:{size:"large"}},[e("el-button",{attrs:{type:"primary"},on:{click:this.submitForm}},["提交"]),e("el-button",{on:{click:this.resetForm}},["重置"])])])}function renderFormItem(e,t){var n=this;if(t)return t.map((function(t){var a=t.__config__,i=layouts[a.layout];if(i)return i.call(n,e,t);throw new Error("没有与".concat(a.layout,"匹配的layout"))}))}function renderChildren(e,t){var n=t.__config__;return Array.isArray(n.children)?renderFormItem.call(this,e,n.children):null}function setValue(e,t,n){this.$set(t,"defaultValue",e),this.$set(this[this.formConf.formModel],n.__vModel__,e)}function buildListeners(e){var t=this,n=e.__config__,a=this.formConf.__methods__||{},i={};return Object.keys(a).forEach((function(e){i[e]=function(n){return a[e].call(t,n)}})),i.input=function(a){return setValue.call(t,a,n,e)},"el-upload"===n.tag&&(i.upload=function(a,i,r){return setUpload.call(t,n,e,a,i,r)},i.deleteUpload=function(a,i){return deleteUpload.call(t,n,e,a,i)},i.previewUpload=function(e,t){return window.open(e.url,"_blank")}),i}function setUpload(e,t,n,a,i){var r={name:n.fileName,url:n.url,fileType:n.contentType},s="";try{s=JSON.parse(this[this.formConf.formModel][t.__vModel__])}catch(o){console.warn(o)}s?s.push(r):s=[r],this.$set(e,"defaultValue",JSON.stringify(s)),this.$set(this[this.formConf.formModel],t.__vModel__,JSON.stringify(s))}function deleteUpload(e,t,n,a){var i=JSON.parse(this[this.formConf.formModel][t.__vModel__]),r=i.filter((function(e){return e.name!==n.name}));this.$set(e,"defaultValue",JSON.stringify(r)),this.$set(this[this.formConf.formModel],t.__vModel__,JSON.stringify(r))}__webpack_exports__["a"]={components:{render:_render_render_js__WEBPACK_IMPORTED_MODULE_12__["a"]},props:{formConf:{type:Object,required:!0}},data:function(){var e,t=(e={formConfCopy:Object(_utils_index__WEBPACK_IMPORTED_MODULE_11__["c"])(this.formConf)},Object(C_Users_asus_073_Desktop_yitihuagongzuoliu2023_qianduan_ruoyi_ui_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__["a"])(e,this.formConf.formModel,{}),Object(C_Users_asus_073_Desktop_yitihuagongzuoliu2023_qianduan_ruoyi_ui_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__["a"])(e,this.formConf.formRules,{}),e);return t.formConfCopy.fields&&(this.initFormData(t.formConfCopy.fields,t[this.formConf.formModel]),this.buildRules(t.formConfCopy.fields,t[this.formConf.formRules])),t},methods:{initFormData:function(e,t){var n=this;e.forEach((function(e){var a=e.__config__;e.__vModel__&&(t[e.__vModel__]=a.defaultValue),a.children&&n.initFormData(a.children,t)}))},buildRules:function buildRules(componentList,rules){var _this4=this;componentList.forEach((function(cur){var config=cur.__config__;if(Array.isArray(config.regList)){if(config.required){var required={required:config.required,message:cur.placeholder};Array.isArray(config.defaultValue)&&(required.type="array",required.message="请至少选择一个".concat(config.label)),void 0===required.message&&(required.message="".concat(config.label,"不能为空")),config.regList.push(required)}rules[cur.__vModel__]=config.regList.map((function(item){return item.pattern&&(item.pattern=eval(item.pattern)),item.trigger=ruleTrigger&&ruleTrigger[config.tag],item}))}config.children&&_this4.buildRules(config.children,rules)}))},resetForm:function(){this.formConfCopy=Object(_utils_index__WEBPACK_IMPORTED_MODULE_11__["c"])(this.formConf),this.$refs[this.formConf.formRef].resetFields()},submitForm:function(){var e=this;this.$refs[this.formConf.formRef].validate((function(t){if(!t)return!1;var n={formData:e.formConfCopy,valData:e[e.formConf.formModel]};return e.$emit("submit",n),!0}))},getData:function(){this.$emit("getData",this[this.formConf.formModel])}},render:function(e){return renderFrom.call(this,e)}}}}]);