<div class="layui-fluid" id="detail">
    <div class="layui-card">
        <div class="layui-form layui-card-header layuiadmin-card-header-auto">
            <div class="tool_btn_box">
                <button class="layui-btn layui-btn-primary" style=" margin-left: 10px;float: right" onclick="returnBack()">返回上一级</button>
                <button class="layui-btn" onclick="doEditDetail()">编辑</button>
            </div>
        </div>
        <div class="layui-card-body">
            <div id="baseInfoView"></div>
        </div>

        <div class="layui-tab layui-tab-brief">
            <ul class="layui-tab-title">
                <li class="layui-this">绑定的Api列表</li>
                <li>ip规则项</li>
            </ul>
            <div class="layui-tab-content">
                <!-- 标签内容开始 -->
                <div class="layui-tab-item layui-show">
                    <!-- 搜索开始 -->
                    <div class="layui-form layui-card-header layuiadmin-card-header-auto" lay-filter="layadmin-item-formlist">
                        <form class="layui-form" id="formSearchItem1">
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">Api名称</label>
                                    <div class="layui-input-block">
                                        <input type="text" name="name" placeholder="请输入" autocomplete="off" class="layui-input">
                                    </div>
                                </div>

                                <div class="layui-inline">
                                    <label class="layui-form-label">http方法:</label>
                                    <div class="layui-input-block">
                                        <select name="reqMethod">
                                            <option value=""></option>
                                            <option value="GET">GET</option>
                                            <option value="POST">POST</option>
                                            <option value="PUT">PUT</option>
                                            <option value="DELETE">DELETE</option>
                                            <option value="HEAD">HEAD</option>
                                            <option value="OPTIONS">OPTIONS</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">分组</label>
                                    <div class="layui-input-block">
                                        <select name="groupId" class="groupOption">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">请求路径</label>
                                    <div class="layui-input-block">
                                        <input type="text" name="reqUri" placeholder="请输入" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline top_search_btn">
                                    <button class="layui-btn layuiadmin-btn-admin" lay-submit lay-filter="LAY-item1-back-search">
                                        <i class="layui-icon layui-icon-search layuiadmin-button-btn"></i>
                                    </button>
                                </div>
                            </div>
                        </form>
                        <div class="top_btn">
                            <button class="layui-btn layuiadmin-btn-admin" data-type="exportExcel" export-type="ipRuleApi" data-layer-html="exportExcel.html" data-layer-path="simple/gateway/export/">Excel导出</button>
                            <button class="layui-btn layuiadmin-btn-admin" data-type="add" data-layer-html="addItem1.html">绑定</button>
                            <button class="layui-btn layuiadmin-btn-admin layui-btn-danger" data-type="del" data-layer-html="addItem1.html">删除</button>
                        </div>
                    </div>
                    <div>
                        <!-- 列表开始 -->
                        <div class="table-area">
                            <table id="tableItem1" lay-filter="tableItem1"></table>
                        </div>
                        <div id="page_tableItem1"></div>
                        <!-- 列表结束 -->
                    </div>
                </div>
                <!-- 标签内容结束 -->
                <!-- 标签内容开始 -->
                <div class="layui-tab-item">
                    <div class="layui-form layui-card-header layuiadmin-card-header-auto" lay-filter="layadmin-item2-formlist">
                        <form class="layui-form" id="formSearchItem2">
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">范围</label>
                                    <div class="layui-input-block">
                                        <select name ="ipRange">
                                            <option value=""></option>
                                            <option value="all">所有ip</option>
                                            <option value="group">ip段</option>
                                            <option value="one">指定ip</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="layui-inline">
                                    <label class="layui-form-label">ip地址</label>
                                    <div class="layui-input-block">
                                        <input type="text" name="ipAddress" placeholder="请输入" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline top_search_btn">
                                    <button class="layui-btn layuiadmin-btn-admin" lay-submit lay-filter="LAY-item2-back-search">
                                        <i class="layui-icon layui-icon-search layuiadmin-button-btn"></i>
                                    </button>
                                </div>
                            </div>
                        </form>
                        <div class="top_btn">
                            <button class="layui-btn layuiadmin-btn-admin" data-type="exportExcel"  export-type="ipRuleItem" data-layer-html="exportExcel.html" data-layer-path="simple/gateway/export/">Excel导出</button>
                            <button class="layui-btn layuiadmin-btn-admin" data-type="add" data-layer-html="addItem2.html" >新建</button>
                            <button class="layui-btn layuiadmin-btn-admin" data-type="del" data-layer-html="addItem2.html" >删除</button>
                        </div>
                    </div>
                    <div>
                        <!-- 列表开始 -->
                        <div class="table-area">
                            <table id="tableItem2" lay-filter="tableItem2"></table>
                        </div>
                        <div id="page_tableItem2"></div>
                        <!-- 列表结束 -->
                    </div>
                </div>
                <!-- 标签内容结束 -->
            </div>
        </div>

    </div>
</div>

<!-- 基本信息 -->
<script type="text/html" id="baseInfoTemplate">
    <form class="layui-form" lay-filter="formDetail">
        <blockquote class="layui-elem-quote">ip规则详情</blockquote>
        <table class="layui-table">
            <tbody>
            <tr>
                <td class="td_bg" width="10%">id</td>
                <td width="40%">{{d.id}}</td>
                <td class="td_bg" width="10%">ip规则名</td>
                <td width="40%">{{d.name}}</td>
            </tr>
            <tr>
                <td class="td_bg" width="10%">规则类型</td>
                <td width="40%">{{d.type}}</td>
                <td class="td_bg" width="10%">备注</td>
                <td width="40%">{{d.remark}}</td>
            </tr>
            </tbody>
        </table>
    </form>
</script>

<script  src="simple/gateway/iprule/detail.js"></script>

<!--操作 模板-->
<script type="text/html" id="operateItemTemplate">
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
</script>
<script type="text/html" id="operateItem2Template">
    <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
</script>
